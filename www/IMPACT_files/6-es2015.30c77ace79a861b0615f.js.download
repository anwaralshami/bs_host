(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"6aiu":function(e,t,c){"use strict";c.r(t);var i=c("ktN8"),o=c("fXoL"),n=c("tk/3");let r=(()=>{class e extends i.a{constructor(e,t){super(e,t),this.http=e,this.injector=t}requestException(e){return this.post("mobility_request",e)}getRequestException(e){return this.get("mobility_request",this.setAndGetParams({code:e}))}requestClearence(e){return this.post("mobility_clearence",e)}getRequestClearence(e){return this.get("mobility_clearence",this.setAndGetParams({code:e}))}sendVerificationCode(e){return this.post("curfew/phone_verification",e,{responseType:"text"})}}return e.\u0275fac=function(t){return new(t||e)(o.mc(n.b),o.mc(o.y))},e.\u0275prov=o.Yb({token:e,factory:e.\u0275fac}),e})();var a=c("tyNb"),l=c("sYmb");let s=(()=>{class e{constructor(e){this.router=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(o.cc(a.c))},e.\u0275cmp=o.Wb({type:e,selectors:[["app-permission"]],decls:42,vars:21,consts:[[1,"wrapping-background"],[1,"report-form"],[1,"header-grid"],[1,"page_title"],[1,"header_logo"],["src","assets/images/COVID.png",1,"logo","logo2"],[1,"page_title_text","arabic_title"],[1,"page_title_text"],[1,"right-sheet"],[1,"impact-logo-desktop"],["src","assets/images/impact-logo-right.png",1,"impact-logo-desktop-image"],[1,"titles_wrapper"],[1,"desktop_logo_wrapper"],[1,"logo-wrapper"],[1,"logo-text"],[1,"sheet"],[1,"sheet-elements-container"],[1,"sheet_title"],["src","assets/images/Impact Logo.png",1,"impact-logo"],[1,"cont"]],template:function(e,t){1&e&&(o.ic(0,"div",0),o.ic(1,"div",1),o.ic(2,"header",2),o.dc(3,"div"),o.ic(4,"div",3),o.ic(5,"div",4),o.dc(6,"img",5),o.hc(),o.ic(7,"div",6),o.Tc(8),o.vc(9,"translate"),o.hc(),o.ic(10,"div",7),o.Tc(11),o.vc(12,"translate"),o.hc(),o.hc(),o.hc(),o.ic(13,"div",8),o.ic(14,"div",9),o.dc(15,"img",10),o.hc(),o.ic(16,"div",11),o.ic(17,"div",7),o.Tc(18),o.vc(19,"translate"),o.hc(),o.ic(20,"div",7),o.Tc(21),o.vc(22,"translate"),o.hc(),o.hc(),o.ic(23,"div",12),o.ic(24,"div",13),o.dc(25,"img",5),o.ic(26,"div",14),o.ic(27,"span"),o.Tc(28),o.vc(29,"translate"),o.hc(),o.ic(30,"span"),o.Tc(31),o.vc(32,"translate"),o.hc(),o.ic(33,"span"),o.Tc(34),o.vc(35,"translate"),o.hc(),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(36,"section",15),o.ic(37,"div",16),o.ic(38,"div",17),o.dc(39,"img",18),o.hc(),o.ic(40,"div",19),o.dc(41,"router-outlet"),o.hc(),o.hc(),o.hc(),o.hc(),o.hc()),2&e&&(o.Pb(8),o.Vc(" ",o.wc(9,7,"lockdown_permission.title"),""),o.Pb(3),o.Vc(" ",o.wc(12,9,"lockdown_permission.title_en"),""),o.Pb(7),o.Vc(" ",o.wc(19,11,"lockdown_permission.title"),""),o.Pb(3),o.Vc(" ",o.wc(22,13,"lockdown_permission.title_en"),""),o.Pb(7),o.Uc(o.wc(29,15,"lockdown_permission.covid_text1")),o.Pb(3),o.Uc(o.wc(32,17,"lockdown_permission.covid_text2")),o.Pb(3),o.Uc(o.wc(35,19,"lockdown_permission.covid_text3")))},directives:[a.e],pipes:[l.c],styles:["header[_ngcontent-%COMP%]{padding-top:30px!important}header[_ngcontent-%COMP%]   .page_title_text[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}header[_ngcontent-%COMP%]   .header_logo[_ngcontent-%COMP%]{margin-bottom:15px}header[_ngcontent-%COMP%]   .header_logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;max-width:70px;margin:auto}header[_ngcontent-%COMP%]   .header_logo[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%}.wrapping-background[_ngcontent-%COMP%]{background:url(2.83255fd49eef14c0cf77.jpg);width:100%;padding-bottom:30%;background-color:#fff;background-repeat:repeat-x;background-size:cover;height:100%}.right-sheet[_ngcontent-%COMP%]{display:none}.wrapping-square[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px}.sheet[_ngcontent-%COMP%]{top:200px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;min-height:calc(100% - 200px)}.cont[_ngcontent-%COMP%]{margin-bottom:15px}.texxt[_ngcontent-%COMP%]{margin-top:50px}.sheet_title[_ngcontent-%COMP%]{text-align:center}.checkbox-wrapper[_ngcontent-%COMP%]     span.mat-checkbox-label{white-space:pre-wrap}.checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-indeterminate, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-indeterminate{background-color:#132f5a!important}.recaptcha_wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding-top:20px}.recaptcha_wrapper[_ngcontent-%COMP%]   .recaptcha[_ngcontent-%COMP%]{margin:auto}.sponsor-subtitle[_ngcontent-%COMP%]{margin-top:15px}@media screen and (min-width:768px){.report-form[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;height:100vh}.wrapping-background[_ngcontent-%COMP%]{background:none;background-color:#f4f4f4!important;padding-bottom:0}.sheet[_ngcontent-%COMP%]{position:static;width:50%;border-top-left-radius:0;border-top-right-radius:0;height:100%;overflow:auto}.sheet-elements-container[_ngcontent-%COMP%]{padding:12% 7%}.impact-logo[_ngcontent-%COMP%]{display:none}.impact-logo-desktop[_ngcontent-%COMP%]{width:30%;margin-top:50px}.impact-logo-desktop[_ngcontent-%COMP%]   .impact-logo-desktop-image[_ngcontent-%COMP%]{width:100%}.right-sheet[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;width:50%;-ms-flex-direction:column;flex-direction:column;background:url(2.83255fd49eef14c0cf77.jpg);background-repeat:repeat-x;background-size:cover;border-top-left-radius:25px;border-bottom-left-radius:25px}.header-grid[_ngcontent-%COMP%]{display:none}.titles_wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:25% 15%;text-align:initial}.page_title_text[_ngcontent-%COMP%]{font-size:25px;padding:5px;line-height:30px}.arabic_title[_ngcontent-%COMP%]{margin-bottom:15px}.desktop_logo_wrapper[_ngcontent-%COMP%]{-ms-flex-pack:distribute;justify-content:space-around}.desktop_logo_wrapper[_ngcontent-%COMP%], .desktop_logo_wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.desktop_logo_wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;max-width:70px;margin:auto}.desktop_logo_wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-right:10px;color:#fff;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;text-align:justify;-ms-flex-item-align:center;align-self:center}.desktop_logo_wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%}}"]}),e})(),d=(()=>{class e{constructor(e,t){this.router=e,this.route=t}ngOnInit(){}navigateTo(e){this.router.navigate([e],{relativeTo:this.route.parent})}}return e.\u0275fac=function(t){return new(t||e)(o.cc(a.c),o.cc(a.a))},e.\u0275cmp=o.Wb({type:e,selectors:[["app-permission-landing"]],decls:22,vars:18,consts:[[1,"body_permission"],[1,"text_title"],[1,"buttons_wrapper"],["mat-raised-button","",1,"choice_opt","sheet-elements","app-button",3,"click"],[1,"pad_top"]],template:function(e,t){1&e&&(o.ic(0,"div",0),o.ic(1,"div",1),o.Tc(2),o.vc(3,"translate"),o.hc(),o.ic(4,"div",1),o.Tc(5),o.vc(6,"translate"),o.hc(),o.ic(7,"div",2),o.ic(8,"button",3),o.qc("click",(function(){return t.navigateTo("clearance")})),o.ic(9,"div"),o.Tc(10),o.vc(11,"translate"),o.hc(),o.ic(12,"div",4),o.Tc(13),o.vc(14,"translate"),o.hc(),o.hc(),o.ic(15,"button",3),o.qc("click",(function(){return t.navigateTo("exception")})),o.ic(16,"div"),o.Tc(17),o.vc(18,"translate"),o.hc(),o.ic(19,"div",4),o.Tc(20),o.vc(21,"translate"),o.hc(),o.hc(),o.hc(),o.hc()),2&e&&(o.Pb(2),o.Vc(" ",o.wc(3,6,"lockdown_permission.landing.title")," "),o.Pb(3),o.Vc(" ",o.wc(6,8,"lockdown_permission.landing.title_en")," "),o.Pb(5),o.Vc(" ",o.wc(11,10,"lockdown_permission.landing.clearence")," "),o.Pb(3),o.Vc(" ",o.wc(14,12,"lockdown_permission.landing.clearence_en")," "),o.Pb(4),o.Vc(" ",o.wc(18,14,"lockdown_permission.landing.exception")," "),o.Pb(3),o.Vc(" ",o.wc(21,16,"lockdown_permission.landing.exception_en")," "))},pipes:[l.c],styles:[".body_permission[_ngcontent-%COMP%]   .text_title[_ngcontent-%COMP%]{text-align:center}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;margin-top:30px}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;border:1px solid #132f5a;margin:10px;color:#000;padding:15px 5px}.pad_top[_ngcontent-%COMP%]{padding-top:10px}"]}),e})();var p=c("3Pt+"),m=c("fX+G"),h=c("0IaG"),b=c("cH1L");let _=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,console.log(t)}ngOnInit(){console.log(this.data)}buttonClicked(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(o.cc(h.f),o.cc(h.a))},e.\u0275cmp=o.Wb({type:e,selectors:[["app-permission-warning-dialog"]],decls:10,vars:9,consts:[[1,"texxt"],["dir","ltr",1,"text_sec"],[1,"text_sec"],["mat-raised-button","",1,"app-button","cancel-btn",3,"click"]],template:function(e,t){1&e&&(o.ic(0,"div",0),o.ic(1,"div",1),o.Tc(2),o.vc(3,"translate"),o.hc(),o.ic(4,"div",2),o.Tc(5),o.vc(6,"translate"),o.hc(),o.ic(7,"button",3),o.qc("click",(function(){return t.buttonClicked()})),o.Tc(8),o.vc(9,"translate"),o.hc(),o.hc()),2&e&&(o.Pb(2),o.Vc(" ",o.wc(3,3,t.data.english)," "),o.Pb(3),o.Vc(" ",o.wc(6,5,t.data.arabic)," "),o.Pb(3),o.Uc(o.wc(9,7,"lockdown_permission.decision.close")))},directives:[b.b],pipes:[l.c],styles:[".texxt[_ngcontent-%COMP%]{margin-top:25px;text-align:center}.text_sec[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px}.text_sec.red_c[_ngcontent-%COMP%]{color:#f24a49}.text_sec.green_c[_ngcontent-%COMP%]{color:#10743e}.text_sec.orange_c[_ngcontent-%COMP%]{color:#f59200}.title_text[_ngcontent-%COMP%]{font-size:18px;margin:10px}.cancel-btn[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #c7c7c7;color:#538bea;outline:none!important;width:150px}"]}),e})();var u=c("NFeN"),g=c("kmnG"),f=c("qFsG");let w=(()=>{class e{constructor(e,t,c){this.dialogRef=e,this.data=t,this.permissionService=c}ngOnInit(){this.numbersForm=new p.i({number:new p.f("",p.v.required)})}send(){if(this.numbersForm.valid){const e=this.numbersForm.getRawValue();this.dialogRef.close(e.number)}}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(o.cc(h.f),o.cc(h.a),o.cc(r))},e.\u0275cmp=o.Wb({type:e,selectors:[["app-code-verification-dialog"]],decls:19,vars:10,consts:[[1,"pop-up-container"],[1,"header"],[1,"close-btn",3,"click"],["mat-dialog-content","",1,"inputs-container"],[1,"form",3,"formGroup"],["appearance","outline",1,"code-inputs"],["matInput","","formControlName","number","autocomplete","off"],["mat-dialog-actions","",1,"buttons-container"],["mat-button","",1,"btns","bg_dark_blue",3,"click"]],template:function(e,t){1&e&&(o.ic(0,"div",0),o.ic(1,"div",1),o.ic(2,"div"),o.ic(3,"div"),o.Tc(4),o.vc(5,"translate"),o.hc(),o.ic(6,"div"),o.Tc(7),o.vc(8,"translate"),o.hc(),o.hc(),o.ic(9,"mat-icon",2),o.qc("click",(function(){return t.close()})),o.Tc(10,"close"),o.hc(),o.hc(),o.ic(11,"div",3),o.ic(12,"form",4),o.ic(13,"mat-form-field",5),o.dc(14,"input",6),o.hc(),o.hc(),o.hc(),o.ic(15,"div",7),o.ic(16,"button",8),o.qc("click",(function(){return t.send()})),o.Tc(17),o.vc(18,"translate"),o.hc(),o.hc(),o.hc()),2&e&&(o.Pb(4),o.Vc(" ",o.wc(5,4,"lockdown_permission.phone_verif.text")," "),o.Pb(3),o.Vc(" ",o.wc(8,6,"lockdown_permission.phone_verif.text_en")," "),o.Pb(5),o.Ac("formGroup",t.numbersForm),o.Pb(5),o.Vc(" ",o.wc(18,8,"lockdown_permission.phone_verif.send"),""))},directives:[u.a,h.d,p.w,p.r,p.j,g.a,f.b,p.b,p.q,p.h,h.c],pipes:[l.c],styles:[".code-inputs[_ngcontent-%COMP%]     .mat-form-field-appearance-outline, .code-inputs[_ngcontent-%COMP%]     .mat-form-field-infix{padding:.5em 0!important}.code-inputs[_ngcontent-%COMP%]     .mat-form-field-infix input, .code-inputs[_ngcontent-%COMP%]     mat-form-field.mat-form-field-wrapper{margin-top:-.0625em}.pop-up-container[_ngcontent-%COMP%]{text-align:right}.inputs-container[_ngcontent-%COMP%]{margin-top:10px}.buttons-container[_ngcontent-%COMP%]{-ms-flex-pack:end;justify-content:flex-end}.btns[_ngcontent-%COMP%]{height:35px;border:none;border-radius:3px;color:#fff;margin-right:10px}.header[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.form[_ngcontent-%COMP%]{text-align:center}.close-btn[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var v=c("dNgK"),x=c("kh7C"),y=c("ofXK"),P=c("d3UM"),k=c("SNmT"),M=c("z17N"),O=c("bSwM"),T=c("FKr1"),C=c("jCJ1"),q=c("0hV+");const A=["seconfFormButton"];function F(e,t){1&e&&(o.ic(0,"div",6),o.ic(1,"div",7),o.Tc(2),o.vc(3,"translate"),o.vc(4,"translate"),o.hc(),o.hc()),2&e&&(o.Pb(2),o.Wc(" ",o.wc(3,2,"lockdown_permission.clearence.is_card_placeholder")," ",o.wc(4,4,"lockdown_permission.clearence.is_card")," : "))}function R(e,t){if(1&e&&(o.ic(0,"div",5),o.ic(1,"div",6),o.ic(2,"div",7),o.Tc(3),o.vc(4,"translate"),o.vc(5,"translate"),o.hc(),o.ic(6,"div"),o.Tc(7),o.hc(),o.hc(),o.ic(8,"div",6),o.ic(9,"div",7),o.Tc(10),o.vc(11,"translate"),o.vc(12,"translate"),o.hc(),o.ic(13,"div"),o.Tc(14),o.hc(),o.hc(),o.ic(15,"div",6),o.ic(16,"div",7),o.Tc(17),o.vc(18,"translate"),o.vc(19,"translate"),o.hc(),o.ic(20,"div"),o.Tc(21),o.hc(),o.hc(),o.ic(22,"div",6),o.ic(23,"div",7),o.Tc(24),o.vc(25,"translate"),o.vc(26,"translate"),o.hc(),o.ic(27,"div"),o.Tc(28),o.hc(),o.hc(),o.ic(29,"div",6),o.ic(30,"div",7),o.Tc(31),o.vc(32,"translate"),o.vc(33,"translate"),o.hc(),o.ic(34,"div"),o.Tc(35),o.hc(),o.hc(),o.ic(36,"div",6),o.ic(37,"div",7),o.Tc(38),o.vc(39,"translate"),o.vc(40,"translate"),o.hc(),o.ic(41,"div"),o.Tc(42),o.hc(),o.hc(),o.ic(43,"div",6),o.ic(44,"div",7),o.Tc(45),o.vc(46,"translate"),o.vc(47,"translate"),o.hc(),o.ic(48,"div"),o.Tc(49),o.hc(),o.hc(),o.ic(50,"div",6),o.ic(51,"div",7),o.Tc(52),o.vc(53,"translate"),o.vc(54,"translate"),o.hc(),o.ic(55,"div"),o.Tc(56),o.hc(),o.hc(),o.Rc(57,F,5,6,"div",8),o.ic(58,"div",9),o.ic(59,"div",10),o.Tc(60),o.vc(61,"translate"),o.hc(),o.ic(62,"div",10),o.ic(63,"div"),o.Tc(64),o.vc(65,"translate"),o.hc(),o.ic(66,"div"),o.Tc(67),o.vc(68,"translate"),o.hc(),o.hc(),o.hc(),o.hc()),2&e){const e=o.uc();o.Pb(3),o.Wc(" ",o.wc(4,30,"lockdown_permission.clearence.full_name_placeholder")," ",o.wc(5,32,"lockdown_permission.clearence.full_name_placeholder_en")," : "),o.Pb(4),o.Wc(" ",e.reqObj.FirstName," ",e.reqObj.LastName," "),o.Pb(3),o.Wc(" ",o.wc(11,34,"lockdown_permission.clearence.mobile_number_placeholder")," ",o.wc(12,36,"lockdown_permission.clearence.mobile_number_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.MobileNumber," "),o.Pb(3),o.Wc(" ",o.wc(18,38,"lockdown_permission.clearence.work_address_placeholder")," ",o.wc(19,40,"lockdown_permission.clearence.work_address_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.WorkAddress," "),o.Pb(3),o.Wc(" ",o.wc(25,42,"lockdown_permission.clearence.address_placeholder")," ",o.wc(26,44,"lockdown_permission.clearence.address_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.CurrentAddress," "),o.Pb(3),o.Wc(" ",o.wc(32,46,"lockdown_permission.clearence.expected_mobility_time_and_date_placeholder")," ",o.wc(33,48,"lockdown_permission.clearence.expected_mobility_time_and_date_placeholder_en")," : "),o.Pb(4),o.Wc(" ",e.reqObj.ExpectedMobilityDate," ",e.reqObj.ExpectedMobilityTime," "),o.Pb(3),o.Wc(" ",o.wc(39,50,"lockdown_permission.exception.mobility_type_placeholder")," ",o.wc(40,52,"lockdown_permission.exception.mobility_type_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.MobilityType&&"OTHER"!=e.reqObj.MobilityType.Type?e.reqObj.MobilityType.NAME:e.reqObj.OtherMobilityType," "),o.Pb(3),o.Wc(" ",o.wc(46,54,"lockdown_permission.clearence.work_type_placeholder")," ",o.wc(47,56,"lockdown_permission.clearence.work_type_placeholder_en")," : "),o.Pb(4),o.Vc(" ",null==e.reqObj.JobType?null:e.reqObj.JobType.NAME," "),o.Pb(3),o.Wc(" ",o.wc(53,58,"lockdown_permission.clearence.administration_placeholder")," ",o.wc(54,60,"lockdown_permission.clearence.administration_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.InstitutionName," "),o.Pb(1),o.Ac("ngIf",e.reqObj.WorkDocumentExists),o.Pb(3),o.Vc(" ",o.wc(61,62,"lockdown_permission.clearence.registered")," "),o.Pb(4),o.Vc(" ",o.wc(65,64,"lockdown_permission.clearence.advice_popup_1")," "),o.Pb(3),o.Vc(" ",o.wc(68,66,"lockdown_permission.clearence.advice_popup_3")," ")}}function I(e,t){if(1&e&&(o.ic(0,"mat-option",40),o.Tc(1),o.hc()),2&e){const e=t.$implicit;o.Ac("value",e.REF),o.Pb(1),o.Vc(" ",e.NAME,"")}}function E(e,t){if(1&e&&(o.ic(0,"mat-option",40),o.Tc(1),o.hc()),2&e){const e=t.$implicit;o.Ac("value",e.REF),o.Pb(1),o.Vc(" ",e.NAME,"")}}const V=function(e){return{invalid:e}};function N(e,t){if(1&e&&(o.ic(0,"div",13),o.ic(1,"div",14),o.ic(2,"mat-form-field",15),o.ic(3,"mat-label"),o.Tc(4),o.vc(5,"translate"),o.vc(6,"translate"),o.hc(),o.dc(7,"input",41),o.hc(),o.hc(),o.dc(8,"app-error-display",18),o.hc()),2&e){o.uc();const e=o.Ic(1),t=o.uc();o.Pb(1),o.Ac("ngClass",o.Ec(9,V,t.fieldInvalid("OtherMobilityType"))),o.Pb(3),o.Wc("",o.wc(5,5,"lockdown_permission.clearence.other_mobility_type_placeholder"),"* ",o.wc(6,7,"lockdown_permission.clearence.other_mobility_type_placeholder_en"),"* "),o.Pb(4),o.Ac("control",t.reportForm.get("OtherMobilityType"))("form",e)}}const D=function(e){return{border_invalid:e}};function W(e,t){if(1&e){const e=o.jc();o.ic(0,"div",47),o.ic(1,"re-captcha",48),o.qc("resolved",(function(t){return o.Kc(e),o.uc(3).resolved(t)})),o.hc(),o.hc()}if(2&e){const e=o.uc(3);o.Pb(1),o.Ac("ngClass",o.Ec(1,D,e.field2Invalid("RecaptchaToken")))}}function j(e,t){if(1&e&&(o.ic(0,"form",42,43),o.Rc(2,W,2,3,"div",44),o.dc(3,"button",45,46),o.hc()),2&e){const e=o.uc(2);o.Ac("formGroup",e.recaptchaForm),o.Pb(2),o.Ac("ngIf",e.showRecaptcha)}}function S(e,t){if(1&e){const e=o.jc();o.ic(0,"button",49),o.qc("click",(function(){return o.Kc(e),o.uc(2).submitForm()})),o.Tc(1),o.vc(2,"translate"),o.hc()}2&e&&(o.Pb(1),o.Uc(o.wc(2,1,"lockdown_permission.clearence.send")))}function L(e,t){if(1&e&&(o.ic(0,"form",11,12),o.ic(2,"div"),o.Tc(3),o.vc(4,"translate"),o.hc(),o.ic(5,"div",13),o.ic(6,"div",14),o.ic(7,"mat-form-field",15),o.ic(8,"mat-label"),o.Tc(9),o.vc(10,"translate"),o.vc(11,"translate"),o.hc(),o.ic(12,"mat-select",16),o.Rc(13,I,2,2,"mat-option",17),o.hc(),o.hc(),o.hc(),o.dc(14,"app-error-display",18),o.hc(),o.ic(15,"div",19),o.ic(16,"div"),o.ic(17,"div",14),o.ic(18,"mat-form-field",15),o.ic(19,"mat-label"),o.Tc(20),o.vc(21,"translate"),o.vc(22,"translate"),o.hc(),o.dc(23,"input",20),o.hc(),o.hc(),o.dc(24,"app-error-display",18),o.hc(),o.ic(25,"div"),o.ic(26,"div",14),o.ic(27,"mat-form-field",15),o.ic(28,"mat-label"),o.Tc(29),o.vc(30,"translate"),o.vc(31,"translate"),o.hc(),o.dc(32,"input",21),o.hc(),o.hc(),o.dc(33,"app-error-display",18),o.hc(),o.hc(),o.ic(34,"div",13),o.ic(35,"div"),o.ic(36,"div",14),o.ic(37,"mat-form-field",15),o.ic(38,"mat-label"),o.Tc(39),o.vc(40,"translate"),o.vc(41,"translate"),o.hc(),o.dc(42,"input",22),o.hc(),o.hc(),o.dc(43,"app-error-display",18),o.hc(),o.hc(),o.ic(44,"div",23),o.ic(45,"div",24),o.ic(46,"mat-form-field",15),o.ic(47,"mat-label"),o.Tc(48),o.vc(49,"translate"),o.vc(50,"translate"),o.hc(),o.dc(51,"textarea",25),o.hc(),o.hc(),o.dc(52,"app-error-display",18),o.hc(),o.ic(53,"div",23),o.ic(54,"div",24),o.ic(55,"mat-form-field",15),o.ic(56,"mat-label"),o.Tc(57),o.vc(58,"translate"),o.vc(59,"translate"),o.hc(),o.dc(60,"textarea",26),o.hc(),o.hc(),o.dc(61,"app-error-display",18),o.hc(),o.ic(62,"div",13),o.ic(63,"div",14),o.ic(64,"mat-form-field",15),o.ic(65,"mat-label"),o.Tc(66),o.vc(67,"translate"),o.vc(68,"translate"),o.hc(),o.dc(69,"input",27),o.ic(70,"span",28),o.ic(71,"mat-icon"),o.Tc(72,"today"),o.hc(),o.hc(),o.dc(73,"owl-date-time",29,30),o.hc(),o.hc(),o.dc(75,"app-error-display",18),o.hc(),o.ic(76,"div",13),o.ic(77,"div",14),o.ic(78,"mat-form-field",15),o.ic(79,"mat-label"),o.Tc(80),o.vc(81,"translate"),o.vc(82,"translate"),o.hc(),o.dc(83,"input",31),o.ic(84,"span",28),o.ic(85,"mat-icon"),o.Tc(86,"schedule"),o.hc(),o.hc(),o.dc(87,"owl-date-time",29,32),o.hc(),o.hc(),o.dc(89,"app-error-display",18),o.hc(),o.ic(90,"div",13),o.ic(91,"div",14),o.ic(92,"mat-form-field",15),o.ic(93,"mat-label"),o.Tc(94),o.vc(95,"translate"),o.vc(96,"translate"),o.hc(),o.dc(97,"input",33),o.hc(),o.hc(),o.dc(98,"app-error-display",18),o.hc(),o.ic(99,"div",13),o.ic(100,"div",14),o.ic(101,"mat-form-field",15),o.ic(102,"mat-label"),o.Tc(103),o.vc(104,"translate"),o.vc(105,"translate"),o.hc(),o.ic(106,"mat-select",34),o.Rc(107,E,2,2,"mat-option",17),o.hc(),o.hc(),o.hc(),o.dc(108,"app-error-display",18),o.hc(),o.Rc(109,N,9,11,"div",35),o.ic(110,"div",13),o.ic(111,"div",24),o.ic(112,"div",36),o.ic(113,"mat-checkbox",37),o.Tc(114),o.vc(115,"translate"),o.vc(116,"translate"),o.hc(),o.hc(),o.hc(),o.dc(117,"app-error-display",18),o.hc(),o.Rc(118,j,5,2,"form",38),o.Rc(119,S,3,3,"button",39),o.hc()),2&e){const e=o.Ic(1),t=o.Ic(74),c=o.Ic(88),i=o.uc();o.Ac("formGroup",i.reportForm),o.Pb(3),o.Uc(o.wc(4,78,"lockdown_permission.clearence.work_type_text")),o.Pb(3),o.Ac("ngClass",o.Ec(124,V,i.fieldInvalid("JobType"))),o.Pb(3),o.Wc("",o.wc(10,80,"lockdown_permission.clearence.work_type_placeholder"),"* ",o.wc(11,82,"lockdown_permission.clearence.work_type_placeholder_en"),"* "),o.Pb(4),o.Ac("ngForOf",i.jobTypesOptions),o.Pb(1),o.Ac("control",i.reportForm.get("JobType"))("form",e),o.Pb(3),o.Ac("ngClass",o.Ec(126,V,i.fieldInvalid("FirstName"))),o.Pb(3),o.Wc("",o.wc(21,84,"lockdown_permission.clearence.first_name_placeholder"),"* ",o.wc(22,86,"lockdown_permission.clearence.first_name_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("FirstName"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(128,V,i.fieldInvalid("LastName"))),o.Pb(3),o.Wc("",o.wc(30,88,"lockdown_permission.clearence.last_name_placeholder"),"* ",o.wc(31,90,"lockdown_permission.clearence.last_name_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("LastName"))("form",e),o.Pb(3),o.Ac("ngClass",o.Ec(130,V,i.fieldInvalid("MobileNumber"))),o.Pb(3),o.Wc(" ",o.wc(40,92,"lockdown_permission.clearence.mobile_number_placeholder"),"* ",o.wc(41,94,"lockdown_permission.clearence.mobile_number_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("MobileNumber"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(132,V,i.fieldInvalid("WorkAddress"))),o.Pb(3),o.Wc("",o.wc(49,96,"lockdown_permission.clearence.work_address_placeholder"),"* ",o.wc(50,98,"lockdown_permission.clearence.work_address_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("WorkAddress"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(134,V,i.fieldInvalid("CurrentAddress"))),o.Pb(3),o.Wc("",o.wc(58,100,"lockdown_permission.clearence.address_placeholder"),"* ",o.wc(59,102,"lockdown_permission.clearence.address_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("CurrentAddress"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(136,V,i.fieldInvalid("ExpectedMobilityDate"))),o.Pb(3),o.Wc("",o.wc(67,104,"lockdown_permission.clearence.expected_mobility_date_placeholder"),"* ",o.wc(68,106,"lockdown_permission.clearence.expected_mobility_date_placeholder_en"),"* "),o.Pb(3),o.Ac("readOnly",!0)("owlDateTimeTrigger",t)("owlDateTime",t),o.Pb(1),o.Ac("owlDateTimeTrigger",t),o.Pb(3),o.Ac("disabled",i.reportForm.get("ExpectedMobilityDate").disabled)("pickerType","calendar")("pickerMode","popup")("hour12Timer",!0),o.Pb(2),o.Ac("control",i.reportForm.get("ExpectedMobilityDate"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(138,V,i.fieldInvalid("ExpectedMobilityTime"))),o.Pb(3),o.Wc("",o.wc(81,108,"lockdown_permission.clearence.expected_mobility_time_date_placeholder"),"* ",o.wc(82,110,"lockdown_permission.clearence.expected_mobility_time_date_placeholder_en"),"* "),o.Pb(3),o.Ac("readOnly",!0)("owlDateTimeTrigger",c)("owlDateTime",c),o.Pb(1),o.Ac("owlDateTimeTrigger",c),o.Pb(3),o.Ac("disabled",i.reportForm.get("ExpectedMobilityTime").disabled)("pickerType","timer")("pickerMode","popup")("hour12Timer",!0),o.Pb(2),o.Ac("control",i.reportForm.get("ExpectedMobilityTime"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(140,V,i.fieldInvalid("InstitutionName"))),o.Pb(3),o.Wc("",o.wc(95,112,"lockdown_permission.clearence.administration_placeholder"),"* ",o.wc(96,114,"lockdown_permission.clearence.administration_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("InstitutionName"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(142,V,i.fieldInvalid("MobilityType"))),o.Pb(3),o.Wc("",o.wc(104,116,"lockdown_permission.clearence.mobility_type_placeholder"),"* ",o.wc(105,118,"lockdown_permission.clearence.mobility_type_placeholder_en"),"* "),o.Pb(4),o.Ac("ngForOf",i.mobilityTypesOptions),o.Pb(1),o.Ac("control",i.reportForm.get("MobilityType"))("form",e),o.Pb(1),o.Ac("ngIf",i.showOtherMobilityType),o.Pb(2),o.Ac("ngClass",o.Ec(144,V,i.fieldInvalid("WorkDocumentExists"))),o.Pb(3),o.Wc(" ",o.wc(115,120,"lockdown_permission.clearence.is_card_placeholder"),"* ",o.wc(116,122,"lockdown_permission.clearence.is_card_placeholder_en"),"* "),o.Pb(3),o.Ac("control",i.reportForm.get("WorkDocumentExists"))("form",e),o.Pb(1),o.Ac("ngIf",!i.sent),o.Pb(1),o.Ac("ngIf",!i.sent)}}function G(e,t){1&e&&(o.ic(0,"div",50),o.Tc(1),o.vc(2,"translate"),o.hc()),2&e&&(o.Pb(1),o.Vc(" ",o.wc(2,1,"lockdown_permission.clearence.thanks")," "))}function $(e,t){if(1&e){const e=o.jc();o.ic(0,"div",51),o.ic(1,"div"),o.Tc(2),o.vc(3,"translate"),o.hc(),o.dc(4,"qrcode",52),o.ic(5,"div"),o.Tc(6),o.vc(7,"translate"),o.hc(),o.ic(8,"div",53),o.Tc(9),o.hc(),o.ic(10,"button",54),o.qc("click",(function(){return o.Kc(e),o.uc().copyLink()})),o.Tc(11),o.vc(12,"translate"),o.hc(),o.hc()}if(2&e){const e=o.uc();o.Pb(2),o.Vc(" ",o.wc(3,7,"lockdown_permission.clearence.qr_code")," "),o.Pb(2),o.Ac("qrdata",e.qrCodeLink)("width",256)("errorCorrectionLevel","M"),o.Pb(2),o.Vc(" ",o.wc(7,9,"lockdown_permission.clearence.copy_link")," "),o.Pb(3),o.Vc(" ",e.qrCodeLink," "),o.Pb(2),o.Uc(o.wc(12,11,"lockdown_permission.clearence.copy"))}}let K=(()=>{class e{constructor(e,t,c,i,o,n){this._permissionService=e,this.route=t,this._snackBar=c,this.utilsService=i,this.dialog=o,this.router=n,this.showOtherMobilityReason=!1,this.showOtherMobilityType=!1,this.qrCodeLink="",this.sent=!1,this.showRecaptcha=!0}ngOnInit(){this.getData()}getData(){this.route.queryParams.subscribe(e=>{e&&e.code?this.getSubscription=this._permissionService.getRequestClearence(e.code).subscribe(e=>{e&&e.body&&e.body.curfew_mobility_clearence&&e.body.curfew_mobility_clearence.length>0?(this.reqObj=e.body.curfew_mobility_clearence[0],this.sent=!0,this.qrCodeLink=window.location.href):(this.getLookups(),this.initForm(),this.router.navigate(["."],{relativeTo:this.route,queryParams:{}}))}):(this.getLookups(),this.initForm(),this.router.navigate(["."],{relativeTo:this.route,queryParams:{}}))})}initForm(){this.reportForm=new p.i({FirstName:new p.f(null,p.v.required),LastName:new p.f(null,p.v.required),MobileNumber:new p.f(null,[p.v.required,p.v.pattern(/^([\u0660-\u0669]|[0-9]){8}$/)]),CurrentAddress:new p.f(null,p.v.required),WorkAddress:new p.f(null,p.v.required),InstitutionName:new p.f(null,p.v.required),JobType:new p.f(null,p.v.required),ExpectedMobilityDate:new p.f(null,p.v.required),ExpectedMobilityTime:new p.f(null,p.v.required),MobilityType:new p.f(null,p.v.required),OtherMobilityType:new p.f(null),WorkDocumentExists:new p.f(null),Code:new p.f("")}),this.recaptchaForm=new p.i({RecaptchaToken:new p.f(null,p.v.required),Phone:new p.f("")}),this.reportForm.controls.MobilityType.valueChanges.subscribe(e=>{var t;let c=null===(t=this.mobilityTypesOptions)||void 0===t?void 0:t.find(e=>"OTHER"===e.Type);c&&e===c.REF?(this.showOtherMobilityType=!0,this.reportForm.controls.OtherMobilityType.setValidators(p.v.required),this.reportForm.controls.OtherMobilityType.updateValueAndValidity()):(this.showOtherMobilityType=!1,this.reportForm.controls.OtherMobilityType.setValidators(null),this.reportForm.controls.OtherMobilityType.setValue(null),this.reportForm.controls.OtherMobilityType.updateValueAndValidity())})}getLookups(){this.utilsService.getOpenLookupsService([m.a.CURFEW_MOBILITY_REASON,m.a.CURFEW_MOBILITY_TYPE,m.a.JOB_TYPES],!0).subscribe(e=>{e&&(this.mobilityTypesOptions=e.body.curfew_mobility_type,this.mobilityReasonsOptions=e.body.curfew_mobility_reason,this.jobTypesOptions=e.body.curfew_job_type)})}fieldInvalid(e){const t=this.reportForm.get(e);return t.touched&&t.invalid}field2Invalid(e){const t=this.recaptchaForm.get(e);return t.touched&&t.invalid}send(){let e=this.reportForm.getRawValue();if(e.ExpectedMobilityDate){let t=new Date(e.ExpectedMobilityDate);e.ExpectedMobilityDate=`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}if(e.ExpectedMobilityTime){let t=new Date(e.ExpectedMobilityTime);e.ExpectedMobilityTime=`${t.getHours()}:${t.getMinutes()}`}this.addSubscription=this._permissionService.requestClearence(e).subscribe(e=>{e&&(this.sent=!0,this.reqObj=e.body,this.reportForm.disable(),this.reqObj.ValidationCode&&(this.qrCodeLink=`${window.location.href}?code=${this.reqObj.ValidationCode}`,this.router.navigate([],{relativeTo:this.route,queryParams:{code:this.reqObj.ValidationCode},queryParamsHandling:"merge"})))},t=>{this.openCodeVerificationDialog(e.MobileNumber)})}submitForm(){if(this.seconfFormButton.nativeElement.click(),this.recaptchaForm.markAllAsTouched(),this.reportForm.valid&&this.recaptchaForm.valid){const e=this.reportForm.getRawValue();if(e.MobileNumber&&!this.isValidPhoneNumber(e.MobileNumber))return void this.dialog.open(_,{width:"400px",data:{arabic:"lockdown_permission.exception.invalid_phone_number",english:"lockdown_permission.exception.invalid_phone_number_en"}});let t=new Date;if(e.ExpectedMobilityDate&&e.ExpectedMobilityDate<t.setDate(t.getDate()-1))return void this.dialog.open(_,{width:"400px",data:{arabic:"lockdown_permission.exception.invalid_date",english:"lockdown_permission.exception.invalid_date_en"}});this.recaptchaForm.controls.Phone.setValue(e.MobileNumber),this._permissionService.sendVerificationCode(this.recaptchaForm.getRawValue()).subscribe(),this.openCodeVerificationDialog(e.MobileNumber)}}openCodeVerificationDialog(e){this.showRecaptcha=!1,this.dialog.open(w,{width:"400px",disableClose:!0,data:{phone:e}}).afterClosed().subscribe(e=>{this.showRecaptcha=!0,e?(this.reportForm.controls.Code.setValue(e),this.send()):(this.recaptchaForm.controls.RecaptchaToken.setValue(null),this.recaptchaForm.controls.RecaptchaToken.updateValueAndValidity())})}isValidPhoneNumber(e){return e.startsWith("03")||e.startsWith("76")||e.startsWith("81")||e.startsWith("79")||e.startsWith("78")||e.startsWith("71")||e.startsWith("70")||e.startsWith("\u0660\u0663")||e.startsWith("\u0667\u0666")||e.startsWith("\u0668\u0661")||e.startsWith("\u0667\u0669")||e.startsWith("\u0667\u0668")||e.startsWith("\u0667\u0661")||e.startsWith("\u0667\u0660")}resolved(e){this.recaptchaForm.controls.RecaptchaToken.setValue(e)}copyLink(){const e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=this.qrCodeLink,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}ngOnDestroy(){this.addSubscription&&this.addSubscription.unsubscribe(),this.getSubscription&&this.getSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.cc(r),o.cc(a.a),o.cc(v.a),o.cc(x.a),o.cc(h.b),o.cc(a.c))},e.\u0275cmp=o.Wb({type:e,selectors:[["app-clearence"]],viewQuery:function(e,t){var c;1&e&&o.ad(A,!0),2&e&&o.Hc(c=o.rc())&&(t.seconfFormButton=c.first)},decls:8,vars:7,consts:[[1,"text_title"],["class","suspected_wrapper",4,"ngIf"],["class","report-form",3,"formGroup",4,"ngIf"],["class","texxt",4,"ngIf"],["class","qr_class text_sec",4,"ngIf"],[1,"suspected_wrapper"],[1,"subtitle_r"],[1,"placeholder_text"],["class","subtitle_r",4,"ngIf"],[1,"subtitle_r","subtitle_decision","black_b"],[1,"text_sec","placeholder_text","colored_text"],[1,"report-form",3,"formGroup"],["ngForm","ngForm"],[1,"single-lined-element"],[1,"wrapping-square","input-styling",3,"ngClass"],["color","primary",1,"sheet-elements"],["formControlName","JobType"],[3,"value",4,"ngFor","ngForOf"],[3,"control","form"],[1,"two-fields-grid"],["matInput","","maxlength","500","formControlName","FirstName"],["matInput","","maxlength","500","formControlName","LastName"],["matInput","","formControlName","MobileNumber"],[1,"single-lined-element","textarea"],[1,"wrapping-square",3,"ngClass"],["maxlength","1000","matInput","","formControlName","WorkAddress"],["matInput","","maxlength","1000","formControlName","CurrentAddress"],["matInput","","formControlName","ExpectedMobilityDate",3,"readOnly","owlDateTimeTrigger","owlDateTime"],[3,"owlDateTimeTrigger"],[3,"disabled","pickerType","pickerMode","hour12Timer"],["expectedMobilityDate",""],["matInput","","formControlName","ExpectedMobilityTime",3,"readOnly","owlDateTimeTrigger","owlDateTime"],["expectedMobilityTime",""],["matInput","","maxlength","500","formControlName","InstitutionName"],["formControlName","MobilityType"],["class","single-lined-element",4,"ngIf"],[1,"checkbox-wrapper"],["formControlName","WorkDocumentExists",1,"checkbox_field"],[3,"formGroup",4,"ngIf"],["class","bg_dark_blue sheet-elements app-button","mat-raised-button","",3,"click",4,"ngIf"],[3,"value"],["matInput","","maxlength","500","formControlName","OtherMobilityType"],[3,"formGroup"],["ngFo","ngForm"],["class","recaptcha_wrapper",4,"ngIf"],[1,"hidden_btn"],["seconfFormButton",""],[1,"recaptcha_wrapper"],[1,"recaptcha",3,"ngClass","resolved"],["mat-raised-button","",1,"bg_dark_blue","sheet-elements","app-button",3,"click"],[1,"texxt"],[1,"qr_class","text_sec"],[3,"qrdata","width","errorCorrectionLevel"],[1,"owbw"],["mat-raised-button","","type","button",1,"bg_dark_blue","sheet-elements","app-button-here",3,"click"]],template:function(e,t){1&e&&(o.ic(0,"div"),o.ic(1,"div",0),o.Tc(2),o.vc(3,"translate"),o.hc(),o.Rc(4,R,69,68,"div",1),o.Rc(5,L,120,146,"form",2),o.Rc(6,G,3,3,"div",3),o.Rc(7,$,13,13,"div",4),o.hc()),2&e&&(o.Pb(2),o.Vc(" ",o.wc(3,5,"lockdown_permission.clearence.title")," "),o.Pb(2),o.Ac("ngIf",t.reqObj),o.Pb(1),o.Ac("ngIf",!t.sent&&t.reportForm),o.Pb(1),o.Ac("ngIf",t.sent),o.Pb(1),o.Ac("ngIf",t.sent&&t.qrCodeLink))},directives:[y.k,p.w,p.r,p.j,y.i,g.a,g.d,P.a,p.q,p.h,y.j,k.a,f.b,p.b,p.m,M.c,M.e,u.a,M.b,O.a,T.m,C.c,q.a],pipes:[l.c],styles:[".text_title[_ngcontent-%COMP%]{margin:5px 0 30px;font-size:16px;text-align:center}.texxt[_ngcontent-%COMP%]{margin-top:50px}.sheet_title[_ngcontent-%COMP%]{text-align:center}.checkbox-wrapper[_ngcontent-%COMP%]    {display:-ms-flexbox;display:flex;height:100%}.checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox{margin:auto}.checkbox-wrapper[_ngcontent-%COMP%]     span.mat-checkbox-label{white-space:pre-wrap;color:rgba(0,0,0,.5411764705882353)}.checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-indeterminate, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-indeterminate{background-color:#132f5a!important}.sponsor-subtitle[_ngcontent-%COMP%]{margin-top:15px}.input-styling[_ngcontent-%COMP%]     mat-form-field{width:100%}.input-styling[_ngcontent-%COMP%]     mat-form-field textarea{resize:none!important;overflow:hidden!important}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-underline{display:none}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix{display:-ms-flexbox;display:flex}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-input-element{height:20px;width:90%}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{overflow:unset}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-select-arrow{color:#538bea}.qr_class[_ngcontent-%COMP%]{text-align:center}.subtitle_r[_ngcontent-%COMP%]{margin-bottom:10px;overflow-wrap:break-word}.subtitle_r[_ngcontent-%COMP%]   .placeholder_text[_ngcontent-%COMP%]{font-weight:700}.subtitle_decision[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;padding:10px;margin-top:20px}.subtitle_decision.black_b[_ngcontent-%COMP%]{border-color:#000}.colored_text[_ngcontent-%COMP%]{font-size:18px;margin:10px}.recaptcha_wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding-top:20px}.recaptcha_wrapper[_ngcontent-%COMP%]   .recaptcha[_ngcontent-%COMP%]{margin:auto}.app-button-here[_ngcontent-%COMP%]{height:35px;border-radius:3px;color:#fff;font-weight:700;margin-bottom:10px;margin-top:20px;outline:none}.owbw[_ngcontent-%COMP%]{overflow-wrap:break-word}.hidden_btn[_ngcontent-%COMP%]{display:none}.border_invalid[_ngcontent-%COMP%]{border:1px solid #f24a49}"]}),e})();function z(e,t){if(1&e&&(o.ic(0,"div",2),o.Tc(1),o.hc()),2&e){const e=o.uc();o.Pb(1),o.Vc(" ",null==e.data?null:e.data.stateReason.NAME," ")}}function B(e,t){if(1&e&&(o.ic(0,"div"),o.Tc(1),o.vc(2,"translate"),o.ic(3,"div"),o.Tc(4),o.vc(5,"translate"),o.hc(),o.hc()),2&e){const e=o.uc(2);o.Pb(1),o.Vc(" ",o.wc(2,3,"lockdown_permission.exception.allowed_time")," : "),o.Pb(3),o.Wc(" ",o.wc(5,5,"lockdown_permission.exception.allowed_time_to")," ",null==e.data?null:null==e.data.reason?null:e.data.reason.TimeLimitTo," ")}}function U(e,t){if(1&e&&(o.ic(0,"div"),o.Tc(1),o.vc(2,"translate"),o.vc(3,"translate"),o.hc()),2&e){const e=o.uc(2);o.Pb(1),o.Xc(" ",o.wc(2,3,"lockdown_permission.exception.allowed_period")," : ",null==e.data?null:null==e.data.reason?null:e.data.reason.AllowedDuration," ",o.wc(3,5,"lockdown_permission.exception.unit")," ")}}function H(e,t){1&e&&(o.ic(0,"div"),o.Tc(1),o.vc(2,"translate"),o.hc()),2&e&&(o.Pb(1),o.Vc(" ",o.wc(2,1,"lockdown_permission.clearence.advice_popup_2")," "))}function J(e,t){if(1&e&&(o.ic(0,"div",6),o.Rc(1,B,6,7,"div",7),o.Rc(2,U,4,7,"div",7),o.ic(3,"div",8),o.ic(4,"div"),o.Tc(5),o.vc(6,"translate"),o.hc(),o.Rc(7,H,3,3,"div",7),o.ic(8,"div",9),o.Tc(9),o.vc(10,"translate"),o.hc(),o.hc(),o.hc()),2&e){const e=o.uc();o.Pb(1),o.Ac("ngIf",(null==e.data?null:e.data.reason)&&(null==e.data?null:null==e.data.reason?null:e.data.reason.TimeLimitTo)),o.Pb(1),o.Ac("ngIf",(null==e.data?null:e.data.reason)&&(null==e.data?null:null==e.data.reason?null:e.data.reason.AllowedDuration)),o.Pb(3),o.Vc(" ",o.wc(6,5,"lockdown_permission.exception.advice_popup_1")," "),o.Pb(2),o.Ac("ngIf","GOING_TO_AIRPORT"==(null==e.data?null:e.data.reason.Type)),o.Pb(2),o.Vc(" ",o.wc(10,7,"lockdown_permission.clearence.advice_popup_4")," ")}}const Y=function(e,t,c){return{red_c:e,green_c:t,orange_c:c}};let X=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.textToShow="",this.textToShow_en=""}ngOnInit(){var e;this.textToShow=`lockdown_permission.decision.${null===(e=this.data)||void 0===e?void 0:e.state.Type}`,this.textToShow_en=`${this.textToShow}_en`}buttonClicked(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(o.cc(h.f),o.cc(h.a))},e.\u0275cmp=o.Wb({type:e,selectors:[["app-permission-decision-dialog"]],decls:12,vars:16,consts:[[1,"texxt"],[1,"text_sec","title_text",3,"ngClass"],[1,"text_sec"],["class","text_sec",4,"ngIf"],["class","text_sec","placeholder_text","",4,"ngIf"],["mat-raised-button","",1,"app-button","cancel-btn",3,"click"],["placeholder_text","",1,"text_sec"],[4,"ngIf"],[1,"text_sec","placeholder_text","advice_text"],[1,"bold_t"]],template:function(e,t){1&e&&(o.ic(0,"div",0),o.ic(1,"div",1),o.Tc(2),o.vc(3,"translate"),o.hc(),o.ic(4,"div",2),o.Tc(5),o.vc(6,"translate"),o.hc(),o.Rc(7,z,2,1,"div",3),o.Rc(8,J,11,9,"div",4),o.ic(9,"button",5),o.qc("click",(function(){return t.buttonClicked()})),o.Tc(10),o.vc(11,"translate"),o.hc(),o.hc()),2&e&&(o.Pb(1),o.Ac("ngClass",o.Gc(12,Y,"REJECTED"==(null==t.data?null:null==t.data.state?null:t.data.state.Type),"APPROVED"==(null==t.data?null:null==t.data.state?null:t.data.state.Type),"PENDING"==(null==t.data?null:null==t.data.state?null:t.data.state.Type))),o.Pb(1),o.Vc(" ",o.wc(3,6,t.textToShow_en)," "),o.Pb(3),o.Vc(" ",o.wc(6,8,t.textToShow)," "),o.Pb(2),o.Ac("ngIf",null==t.data?null:t.data.stateReason),o.Pb(1),o.Ac("ngIf","APPROVED"==(null==t.data?null:null==t.data.state?null:t.data.state.Type)),o.Pb(2),o.Uc(o.wc(11,10,"lockdown_permission.decision.close")))},directives:[y.i,y.k],pipes:[l.c],styles:[".texxt[_ngcontent-%COMP%]{margin-top:25px;text-align:center}.text_sec[_ngcontent-%COMP%]{margin-bottom:15px}.text_sec.red_c[_ngcontent-%COMP%]{color:#f24a49}.text_sec.green_c[_ngcontent-%COMP%]{color:#10743e}.text_sec.orange_c[_ngcontent-%COMP%]{color:#f59200}.title_text[_ngcontent-%COMP%]{font-size:18px;margin:10px}.cancel-btn[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #c7c7c7;color:#538bea;outline:none!important;width:150px}.bold_t[_ngcontent-%COMP%]{font-weight:700}.advice_text[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();const Q=["seconfFormButton"];function Z(e,t){if(1&e&&(o.ic(0,"div",10),o.Tc(1),o.hc()),2&e){const e=o.uc(2);o.Pb(1),o.Vc(" ",null==e.reqObj?null:e.reqObj.RequestStateReason.NAME," ")}}function ee(e,t){if(1&e&&(o.ic(0,"div"),o.Tc(1),o.vc(2,"translate"),o.ic(3,"div"),o.Tc(4),o.vc(5,"translate"),o.hc(),o.hc()),2&e){const e=o.uc(3);o.Pb(1),o.Vc(" ",o.wc(2,3,"lockdown_permission.exception.allowed_time")," : "),o.Pb(3),o.Wc(" ",o.wc(5,5,"lockdown_permission.exception.allowed_time_to")," ",e.reqObj.MobilityReason.TimeLimitTo," ")}}function te(e,t){if(1&e&&(o.ic(0,"div"),o.Tc(1),o.vc(2,"translate"),o.vc(3,"translate"),o.hc()),2&e){const e=o.uc(3);o.Pb(1),o.Xc(" ",o.wc(2,3,"lockdown_permission.exception.allowed_period")," : ",e.reqObj.MobilityReason.AllowedDuration," ",o.wc(3,5,"lockdown_permission.exception.unit")," ")}}function ce(e,t){1&e&&(o.ic(0,"div"),o.Tc(1),o.vc(2,"translate"),o.hc()),2&e&&(o.Pb(1),o.Vc(" ",o.wc(2,1,"lockdown_permission.clearence.advice_popup_2")," "))}function ie(e,t){if(1&e&&(o.ic(0,"div",10),o.Rc(1,ee,6,7,"div",12),o.Rc(2,te,4,7,"div",12),o.ic(3,"div",13),o.ic(4,"div"),o.Tc(5),o.vc(6,"translate"),o.hc(),o.Rc(7,ce,3,3,"div",12),o.ic(8,"div"),o.Tc(9),o.vc(10,"translate"),o.hc(),o.hc(),o.hc()),2&e){const e=o.uc(2);o.Pb(1),o.Ac("ngIf",e.reqObj.MobilityReason&&e.reqObj.MobilityReason.TimeLimitFrom),o.Pb(1),o.Ac("ngIf",e.reqObj.MobilityReason&&e.reqObj.MobilityReason.AllowedDuration),o.Pb(3),o.Vc(" ",o.wc(6,5,"lockdown_permission.exception.advice_popup_1")," "),o.Pb(2),o.Ac("ngIf","GOING_TO_AIRPORT"==e.reqObj.MobilityReason.Type),o.Pb(2),o.Vc(" ",o.wc(10,7,"lockdown_permission.clearence.advice_popup_3")," ")}}const oe=function(e,t,c){return{red_b:e,green_b:t,orange_b:c}};function ne(e,t){if(1&e&&(o.ic(0,"div",5),o.ic(1,"div",6),o.ic(2,"div",7),o.Tc(3),o.vc(4,"translate"),o.vc(5,"translate"),o.hc(),o.ic(6,"div"),o.Tc(7),o.hc(),o.hc(),o.ic(8,"div",6),o.ic(9,"div",7),o.Tc(10),o.vc(11,"translate"),o.vc(12,"translate"),o.hc(),o.ic(13,"div"),o.Tc(14),o.hc(),o.hc(),o.ic(15,"div",6),o.ic(16,"div",7),o.Tc(17),o.vc(18,"translate"),o.vc(19,"translate"),o.hc(),o.ic(20,"div"),o.Tc(21),o.hc(),o.hc(),o.ic(22,"div",6),o.ic(23,"div",7),o.Tc(24),o.vc(25,"translate"),o.vc(26,"translate"),o.hc(),o.ic(27,"div"),o.Tc(28),o.hc(),o.hc(),o.ic(29,"div",6),o.ic(30,"div",7),o.Tc(31),o.vc(32,"translate"),o.vc(33,"translate"),o.hc(),o.ic(34,"div"),o.Tc(35),o.hc(),o.hc(),o.ic(36,"div",6),o.ic(37,"div",7),o.Tc(38),o.vc(39,"translate"),o.vc(40,"translate"),o.hc(),o.ic(41,"div"),o.Tc(42),o.hc(),o.hc(),o.ic(43,"div",6),o.ic(44,"div",7),o.Tc(45),o.vc(46,"translate"),o.vc(47,"translate"),o.hc(),o.ic(48,"div"),o.Tc(49),o.hc(),o.hc(),o.ic(50,"div",8),o.ic(51,"div",9),o.Tc(52),o.vc(53,"translate"),o.hc(),o.ic(54,"div",10),o.Tc(55),o.vc(56,"translate"),o.hc(),o.Rc(57,Z,2,1,"div",11),o.Rc(58,ie,11,9,"div",11),o.hc(),o.hc()),2&e){const e=o.uc();o.Pb(3),o.Wc(" ",o.wc(4,28,"lockdown_permission.exception.full_name_placeholder")," ",o.wc(5,30,"lockdown_permission.exception.full_name_placeholder_en")," : "),o.Pb(4),o.Wc(" ",e.reqObj.FirstName," ",e.reqObj.LastName," "),o.Pb(3),o.Wc(" ",o.wc(11,32,"lockdown_permission.exception.mobile_number_placeholder")," ",o.wc(12,34,"lockdown_permission.exception.mobile_number_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.MobileNumber," "),o.Pb(3),o.Wc(" ",o.wc(18,36,"lockdown_permission.exception.destination_address_placeholder")," ",o.wc(19,38,"lockdown_permission.exception.destination_address_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.DestinationAddress," "),o.Pb(3),o.Wc(" ",o.wc(25,40,"lockdown_permission.exception.expected_mobility_time_and_date_placeholder")," ",o.wc(26,42,"lockdown_permission.exception.expected_mobility_time_and_date_placeholder_en")," : "),o.Pb(4),o.Wc(" ",e.reqObj.ExpectedMobilityDate," ",e.reqObj.ExpectedMobilityTime," "),o.Pb(3),o.Wc(" ",o.wc(32,44,"lockdown_permission.exception.kadaa_placeholder")," ",o.wc(33,46,"lockdown_permission.exception.kadaa_placeholder_en")," : "),o.Pb(4),o.Vc(" ",null==e.reqObj.Kadaa?null:e.reqObj.Kadaa.NAME," "),o.Pb(3),o.Wc(" ",o.wc(39,48,"lockdown_permission.exception.mobility_reason_placeholder")," ",o.wc(40,50,"lockdown_permission.exception.mobility_reason_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.MobilityReason&&"OTHER"!=e.reqObj.MobilityReason.Type?e.reqObj.MobilityReason.NAME:e.reqObj.OtherMobilityReason," "),o.Pb(3),o.Wc(" ",o.wc(46,52,"lockdown_permission.exception.mobility_type_placeholder")," ",o.wc(47,54,"lockdown_permission.exception.mobility_type_placeholder_en")," : "),o.Pb(4),o.Vc(" ",e.reqObj.MobilityType&&"OTHER"!=e.reqObj.MobilityType.Type?e.reqObj.MobilityType.NAME:e.reqObj.OtherMobilityType," "),o.Pb(1),o.Ac("ngClass",o.Gc(60,oe,"REJECTED"==e.reqObj.MobilityRequestState.Type,"APPROVED"==e.reqObj.MobilityRequestState.Type,"PENDING"==e.reqObj.MobilityRequestState.Type)),o.Pb(2),o.Vc(" ",o.wc(53,56,e.textToShow_en)," "),o.Pb(3),o.Vc(" ",o.wc(56,58,e.textToShow)," "),o.Pb(2),o.Ac("ngIf","REJECTED"==e.reqObj.MobilityRequestState.Type),o.Pb(1),o.Ac("ngIf","APPROVED"==e.reqObj.MobilityRequestState.Type)}}function re(e,t){if(1&e&&(o.ic(0,"mat-option",40),o.Tc(1),o.hc()),2&e){const e=t.$implicit;o.Ac("value",e.REF),o.Pb(1),o.Vc(" ",e.NAME,"")}}function ae(e,t){if(1&e&&(o.ic(0,"mat-option",40),o.Tc(1),o.hc()),2&e){const e=t.$implicit;o.Ac("value",e.REF),o.Pb(1),o.Vc(" ",e.NAME,"")}}const le=function(e){return{invalid:e}};function se(e,t){if(1&e&&(o.ic(0,"div",22),o.ic(1,"div",17),o.ic(2,"mat-form-field",18),o.ic(3,"mat-label"),o.Tc(4),o.vc(5,"translate"),o.vc(6,"translate"),o.hc(),o.dc(7,"input",41),o.hc(),o.hc(),o.dc(8,"app-error-display",20),o.hc()),2&e){o.uc();const e=o.Ic(1),t=o.uc();o.Pb(1),o.Ac("ngClass",o.Ec(9,le,t.fieldInvalid("OtherMobilityReason"))),o.Pb(3),o.Wc("",o.wc(5,5,"lockdown_permission.exception.other_mobility_reason_placeholder"),"* ",o.wc(6,7,"lockdown_permission.exception.other_mobility_reason_placeholder_en"),"* "),o.Pb(4),o.Ac("control",t.reportForm.get("OtherMobilityReason"))("form",e)}}function de(e,t){if(1&e&&(o.ic(0,"mat-option",40),o.Tc(1),o.hc()),2&e){const e=t.$implicit;o.Ac("value",e.REF),o.Pb(1),o.Vc(" ",e.NAME,"")}}function pe(e,t){if(1&e&&(o.ic(0,"div",22),o.ic(1,"div",17),o.ic(2,"mat-form-field",18),o.ic(3,"mat-label"),o.Tc(4),o.vc(5,"translate"),o.vc(6,"translate"),o.hc(),o.dc(7,"input",42),o.hc(),o.hc(),o.dc(8,"app-error-display",20),o.hc()),2&e){o.uc();const e=o.Ic(1),t=o.uc();o.Pb(1),o.Ac("ngClass",o.Ec(9,le,t.fieldInvalid("OtherMobilityType"))),o.Pb(3),o.Wc("",o.wc(5,5,"lockdown_permission.exception.other_mobility_type_placeholder"),"* ",o.wc(6,7,"lockdown_permission.exception.other_mobility_type_placeholder_en"),"* "),o.Pb(4),o.Ac("control",t.reportForm.get("OtherMobilityType"))("form",e)}}const me=function(e){return{border_invalid:e}};function he(e,t){if(1&e){const e=o.jc();o.ic(0,"div",48),o.ic(1,"re-captcha",49),o.qc("resolved",(function(t){return o.Kc(e),o.uc(3).resolved(t)})),o.hc(),o.hc()}if(2&e){const e=o.uc(3);o.Pb(1),o.Ac("ngClass",o.Ec(1,me,e.field2Invalid("RecaptchaToken")))}}function be(e,t){if(1&e&&(o.ic(0,"form",43,44),o.Rc(2,he,2,3,"div",45),o.dc(3,"button",46,47),o.hc()),2&e){const e=o.uc(2);o.Ac("formGroup",e.recaptchaForm),o.Pb(2),o.Ac("ngIf",e.showRecaptcha)}}function _e(e,t){if(1&e){const e=o.jc();o.ic(0,"form",14,15),o.ic(2,"div",16),o.ic(3,"div"),o.ic(4,"div",17),o.ic(5,"mat-form-field",18),o.ic(6,"mat-label"),o.Tc(7),o.vc(8,"translate"),o.vc(9,"translate"),o.hc(),o.dc(10,"input",19),o.hc(),o.hc(),o.dc(11,"app-error-display",20),o.hc(),o.ic(12,"div"),o.ic(13,"div",17),o.ic(14,"mat-form-field",18),o.ic(15,"mat-label"),o.Tc(16),o.vc(17,"translate"),o.vc(18,"translate"),o.hc(),o.dc(19,"input",21),o.hc(),o.hc(),o.dc(20,"app-error-display",20),o.hc(),o.hc(),o.ic(21,"div",22),o.ic(22,"div",17),o.ic(23,"mat-form-field",18),o.ic(24,"mat-label"),o.Tc(25),o.vc(26,"translate"),o.vc(27,"translate"),o.hc(),o.dc(28,"input",23),o.hc(),o.hc(),o.dc(29,"app-error-display",20),o.hc(),o.ic(30,"div",22),o.ic(31,"div",17),o.ic(32,"mat-form-field",18),o.ic(33,"mat-label"),o.Tc(34),o.vc(35,"translate"),o.vc(36,"translate"),o.hc(),o.ic(37,"mat-select",24),o.Rc(38,re,2,2,"mat-option",25),o.hc(),o.hc(),o.hc(),o.dc(39,"app-error-display",20),o.hc(),o.ic(40,"div",26),o.ic(41,"div",27),o.ic(42,"mat-form-field",18),o.ic(43,"mat-label"),o.Tc(44),o.vc(45,"translate"),o.vc(46,"translate"),o.hc(),o.dc(47,"textarea",28),o.hc(),o.hc(),o.dc(48,"app-error-display",20),o.hc(),o.ic(49,"div",22),o.ic(50,"div",17),o.ic(51,"mat-form-field",18),o.ic(52,"mat-label"),o.Tc(53),o.vc(54,"translate"),o.vc(55,"translate"),o.hc(),o.dc(56,"input",29),o.ic(57,"span",30),o.ic(58,"mat-icon"),o.Tc(59,"today"),o.hc(),o.hc(),o.dc(60,"owl-date-time",31,32),o.hc(),o.hc(),o.dc(62,"app-error-display",20),o.hc(),o.ic(63,"div",22),o.ic(64,"div",17),o.ic(65,"mat-form-field",18),o.ic(66,"mat-label"),o.Tc(67),o.vc(68,"translate"),o.vc(69,"translate"),o.hc(),o.dc(70,"input",33),o.ic(71,"span",30),o.ic(72,"mat-icon"),o.Tc(73,"schedule"),o.hc(),o.hc(),o.dc(74,"owl-date-time",31,34),o.hc(),o.hc(),o.dc(76,"app-error-display",20),o.hc(),o.ic(77,"div",22),o.ic(78,"div",17),o.ic(79,"mat-form-field",18),o.ic(80,"mat-label"),o.Tc(81),o.vc(82,"translate"),o.vc(83,"translate"),o.hc(),o.ic(84,"mat-select",35),o.Rc(85,ae,2,2,"mat-option",25),o.hc(),o.hc(),o.hc(),o.dc(86,"app-error-display",20),o.hc(),o.Rc(87,se,9,11,"div",36),o.ic(88,"div",22),o.ic(89,"div",17),o.ic(90,"mat-form-field",18),o.ic(91,"mat-label"),o.Tc(92),o.vc(93,"translate"),o.vc(94,"translate"),o.hc(),o.ic(95,"mat-select",37),o.Rc(96,de,2,2,"mat-option",25),o.hc(),o.hc(),o.hc(),o.dc(97,"app-error-display",20),o.hc(),o.Rc(98,pe,9,11,"div",36),o.Rc(99,be,5,2,"form",38),o.ic(100,"button",39),o.qc("click",(function(){return o.Kc(e),o.uc().submitForm()})),o.Tc(101),o.vc(102,"translate"),o.hc(),o.hc()}if(2&e){const e=o.Ic(1),t=o.Ic(61),c=o.Ic(75),i=o.uc();o.Ac("formGroup",i.reportForm),o.Pb(4),o.Ac("ngClass",o.Ec(107,le,i.fieldInvalid("FirstName"))),o.Pb(3),o.Wc("",o.wc(8,69,"lockdown_permission.exception.first_name_placeholder"),"* ",o.wc(9,71,"lockdown_permission.exception.first_name_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("FirstName"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(109,le,i.fieldInvalid("LastName"))),o.Pb(3),o.Wc("",o.wc(17,73,"lockdown_permission.exception.last_name_placeholder"),"* ",o.wc(18,75,"lockdown_permission.exception.last_name_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("LastName"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(111,le,i.fieldInvalid("MobileNumber"))),o.Pb(3),o.Wc(" ",o.wc(26,77,"lockdown_permission.exception.mobile_number_placeholder"),"* ",o.wc(27,79,"lockdown_permission.exception.mobile_number_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("MobileNumber"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(113,le,i.fieldInvalid("Kadaa"))),o.Pb(3),o.Wc("",o.wc(35,81,"lockdown_permission.exception.kadaa_placeholder"),"* ",o.wc(36,83,"lockdown_permission.exception.kadaa_placeholder_en"),"* "),o.Pb(4),o.Ac("ngForOf",i.kadaasOptions),o.Pb(1),o.Ac("control",i.reportForm.get("Kadaa"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(115,le,i.fieldInvalid("DestinationAddress"))),o.Pb(3),o.Wc("",o.wc(45,85,"lockdown_permission.exception.destination_address_placeholder"),"* ",o.wc(46,87,"lockdown_permission.exception.destination_address_placeholder_en"),"* "),o.Pb(4),o.Ac("control",i.reportForm.get("DestinationAddress"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(117,le,i.fieldInvalid("ExpectedMobilityDate"))),o.Pb(3),o.Wc("",o.wc(54,89,"lockdown_permission.exception.expected_mobility_date_placeholder"),"* ",o.wc(55,91,"lockdown_permission.exception.expected_mobility_date_placeholder_en"),"* "),o.Pb(3),o.Ac("readOnly",!0)("owlDateTimeTrigger",t)("owlDateTime",t),o.Pb(1),o.Ac("owlDateTimeTrigger",t),o.Pb(3),o.Ac("disabled",i.reportForm.get("ExpectedMobilityDate").disabled)("pickerType","calendar")("pickerMode","popup")("hour12Timer",!0),o.Pb(2),o.Ac("control",i.reportForm.get("ExpectedMobilityDate"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(119,le,i.fieldInvalid("ExpectedMobilityTime"))),o.Pb(3),o.Wc("",o.wc(68,93,"lockdown_permission.exception.expected_mobility_time_date_placeholder"),"* ",o.wc(69,95,"lockdown_permission.exception.expected_mobility_time_date_placeholder_en"),"* "),o.Pb(3),o.Ac("readOnly",!0)("owlDateTimeTrigger",c)("owlDateTime",c),o.Pb(1),o.Ac("owlDateTimeTrigger",c),o.Pb(3),o.Ac("disabled",i.reportForm.get("ExpectedMobilityTime").disabled)("pickerType","timer")("pickerMode","popup")("hour12Timer",!0),o.Pb(2),o.Ac("control",i.reportForm.get("ExpectedMobilityTime"))("form",e),o.Pb(2),o.Ac("ngClass",o.Ec(121,le,i.fieldInvalid("MobilityReason"))),o.Pb(3),o.Wc("",o.wc(82,97,"lockdown_permission.exception.mobility_reason_placeholder"),"* ",o.wc(83,99,"lockdown_permission.exception.mobility_reason_placeholder_en"),"* "),o.Pb(4),o.Ac("ngForOf",i.mobilityReasonsOptions),o.Pb(1),o.Ac("control",i.reportForm.get("MobilityReason"))("form",e),o.Pb(1),o.Ac("ngIf",i.showOtherMobilityReason),o.Pb(2),o.Ac("ngClass",o.Ec(123,le,i.fieldInvalid("MobilityType"))),o.Pb(3),o.Wc("",o.wc(93,101,"lockdown_permission.exception.mobility_type_placeholder"),"* ",o.wc(94,103,"lockdown_permission.exception.mobility_type_placeholder_en"),"* "),o.Pb(4),o.Ac("ngForOf",i.mobilityTypesOptions),o.Pb(1),o.Ac("control",i.reportForm.get("MobilityType"))("form",e),o.Pb(1),o.Ac("ngIf",i.showOtherMobilityType),o.Pb(1),o.Ac("ngIf",!i.sent),o.Pb(2),o.Uc(o.wc(102,105,"lockdown_permission.exception.send"))}}function ue(e,t){1&e&&(o.ic(0,"div",50),o.Tc(1),o.vc(2,"translate"),o.hc()),2&e&&(o.Pb(1),o.Vc(" ",o.wc(2,1,"lockdown_permission.exception.thanks")," "))}function ge(e,t){if(1&e){const e=o.jc();o.ic(0,"div",51),o.ic(1,"div"),o.Tc(2),o.vc(3,"translate"),o.hc(),o.dc(4,"qrcode",52),o.ic(5,"div"),o.Tc(6),o.vc(7,"translate"),o.hc(),o.ic(8,"div",53),o.Tc(9),o.hc(),o.ic(10,"button",54),o.qc("click",(function(){return o.Kc(e),o.uc().copyLink()})),o.Tc(11),o.vc(12,"translate"),o.hc(),o.hc()}if(2&e){const e=o.uc();o.Pb(2),o.Vc(" ",o.wc(3,7,"lockdown_permission.exception.qr_code")," "),o.Pb(2),o.Ac("qrdata",e.qrCodeLink)("width",256)("errorCorrectionLevel","M"),o.Pb(2),o.Vc(" ",o.wc(7,9,"lockdown_permission.exception.copy_link")," "),o.Pb(3),o.Vc(" ",e.qrCodeLink," "),o.Pb(2),o.Uc(o.wc(12,11,"lockdown_permission.exception.copy"))}}const fe=[{path:"",component:s,children:[{path:"",component:d},{path:"exception",component:(()=>{class e{constructor(e,t,c,i,o,n){this._permissionService=e,this.route=t,this._snackBar=c,this.utilsService=i,this.dialog=o,this.router=n,this.showRecaptcha=!0,this.showOtherMobilityReason=!1,this.showOtherMobilityType=!1,this.qrCodeLink="",this.sent=!1}ngOnInit(){this.getData()}getData(){this.route.queryParams.subscribe(e=>{e&&e.code?this.getSubscription=this._permissionService.getRequestException(e.code).subscribe(e=>{var t;e&&e.body&&e.body.curfew_mobility_requests&&e.body.curfew_mobility_requests.length>0?(this.reqObj=e.body.curfew_mobility_requests[0],this.sent=!0,this.qrCodeLink=window.location.href,this.textToShow=`lockdown_permission.decision.${null===(t=this.reqObj)||void 0===t?void 0:t.MobilityRequestState.Type}`,this.textToShow_en=`${this.textToShow}_en`):(this.getLookups(),this.initForm(),this.router.navigate(["."],{relativeTo:this.route,queryParams:{}}))}):(this.getLookups(),this.initForm(),this.router.navigate(["."],{relativeTo:this.route,queryParams:{}}))})}initForm(){this.reportForm=new p.i({FirstName:new p.f(null,p.v.required),LastName:new p.f(null,p.v.required),MobileNumber:new p.f(null,[p.v.required,p.v.pattern(/^([\u0660-\u0669]|[0-9]){8}$/)]),DestinationAddress:new p.f(null,p.v.required),Kadaa:new p.f(null,p.v.required),ExpectedMobilityDate:new p.f(null,p.v.required),ExpectedMobilityTime:new p.f(null,p.v.required),MobilityReason:new p.f(null,p.v.required),OtherMobilityReason:new p.f(null),MobilityType:new p.f(null,p.v.required),OtherMobilityType:new p.f(null),Code:new p.f("")}),this.recaptchaForm=new p.i({RecaptchaToken:new p.f(null,p.v.required),Phone:new p.f("")}),this.reportForm.controls.MobilityReason.valueChanges.subscribe(e=>{var t;let c=null===(t=this.mobilityReasonsOptions)||void 0===t?void 0:t.find(e=>"OTHER"===e.Type);c&&e===c.REF?(this.showOtherMobilityReason=!0,this.reportForm.controls.OtherMobilityReason.setValidators(p.v.required),this.reportForm.controls.OtherMobilityReason.updateValueAndValidity()):(this.showOtherMobilityReason=!1,this.reportForm.controls.OtherMobilityReason.setValidators(null),this.reportForm.controls.OtherMobilityReason.setValue(null),this.reportForm.controls.OtherMobilityReason.updateValueAndValidity())}),this.reportForm.controls.MobilityType.valueChanges.subscribe(e=>{var t;let c=null===(t=this.mobilityTypesOptions)||void 0===t?void 0:t.find(e=>"OTHER"===e.Type);c&&e===c.REF?(this.showOtherMobilityType=!0,this.reportForm.controls.OtherMobilityType.setValidators(p.v.required),this.reportForm.controls.OtherMobilityType.updateValueAndValidity()):(this.showOtherMobilityType=!1,this.reportForm.controls.OtherMobilityType.setValidators(null),this.reportForm.controls.OtherMobilityType.setValue(null),this.reportForm.controls.OtherMobilityType.updateValueAndValidity())})}getLookups(){this.utilsService.getOpenLookupsService([m.a.CURFEW_MOBILITY_REASON,m.a.CURFEW_MOBILITY_TYPE,m.a.KADAA],!0).subscribe(e=>{if(e){this.mobilityTypesOptions=e.body.curfew_mobility_type,this.mobilityReasonsOptions=e.body.curfew_mobility_reason,this.kadaasOptions=e.body.kadaa;const t=this.kadaasOptions.findIndex(e=>"\u063a\u064a\u0631\u0647"==e.NAME);t>=0&&this.kadaasOptions.splice(t,1)}})}fieldInvalid(e){const t=this.reportForm.get(e);return t.touched&&t.invalid}send(){let e=this.reportForm.getRawValue();if(e.ExpectedMobilityDate){let t=new Date(e.ExpectedMobilityDate);e.ExpectedMobilityDate=`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}if(e.ExpectedMobilityTime){let t=new Date(e.ExpectedMobilityTime);e.ExpectedMobilityTime=`${t.getHours()}:${t.getMinutes()}`}this.addSubscription=this._permissionService.requestException(e).subscribe(e=>{var t,c,i;e&&(this.sent=!0,this.reqObj=e.body,this.reportForm.disable(),this.dialog.open(X,{width:"400px",data:{state:null===(t=e.body)||void 0===t?void 0:t.MobilityRequestState,stateReason:null===(c=e.body)||void 0===c?void 0:c.RequestStateReason,reason:null===(i=e.body)||void 0===i?void 0:i.MobilityReason}}).afterClosed().subscribe(e=>{var t;this.reqObj.ValidationCode&&(this.qrCodeLink=`${window.location.href}?code=${this.reqObj.ValidationCode}`,this.textToShow=`lockdown_permission.decision.${null===(t=this.reqObj)||void 0===t?void 0:t.MobilityRequestState.Type}`,this.textToShow_en=`${this.textToShow}_en`,this.router.navigate([],{relativeTo:this.route,queryParams:{code:this.reqObj.ValidationCode},queryParamsHandling:"merge"}))}))},t=>{this.openCodeVerificationDialog(e.MobileNumber)})}submitForm(){if(this.seconfFormButton.nativeElement.click(),this.recaptchaForm.markAllAsTouched(),this.reportForm.valid&&this.recaptchaForm.valid){const e=this.reportForm.getRawValue();if(e.MobileNumber&&!this.isValidPhoneNumber(e.MobileNumber))return void this.dialog.open(_,{width:"400px",data:{arabic:"lockdown_permission.exception.invalid_phone_number",english:"lockdown_permission.exception.invalid_phone_number_en"}});let t=new Date;if(e.ExpectedMobilityDate&&e.ExpectedMobilityDate<t.setDate(t.getDate()-1))return void this.dialog.open(_,{width:"400px",data:{arabic:"lockdown_permission.exception.invalid_date",english:"lockdown_permission.exception.invalid_date_en"}});this.recaptchaForm.controls.Phone.setValue(e.MobileNumber),this._permissionService.sendVerificationCode(this.recaptchaForm.getRawValue()).subscribe(t=>{this.openCodeVerificationDialog(e.MobileNumber)})}}openCodeVerificationDialog(e){this.showRecaptcha=!1,this.dialog.open(w,{width:"400px",disableClose:!0,data:{phone:e}}).afterClosed().subscribe(e=>{this.showRecaptcha=!0,e?(this.reportForm.controls.Code.setValue(e),this.send()):(this.recaptchaForm.controls.RecaptchaToken.setValue(null),this.recaptchaForm.controls.RecaptchaToken.updateValueAndValidity())})}resolved(e){this.recaptchaForm.controls.RecaptchaToken.setValue(e)}copyLink(){const e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=this.qrCodeLink,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}isValidPhoneNumber(e){return e.startsWith("03")||e.startsWith("76")||e.startsWith("81")||e.startsWith("79")||e.startsWith("78")||e.startsWith("71")||e.startsWith("70")||e.startsWith("\u0660\u0663")||e.startsWith("\u0667\u0666")||e.startsWith("\u0668\u0661")||e.startsWith("\u0667\u0669")||e.startsWith("\u0667\u0668")||e.startsWith("\u0667\u0661")||e.startsWith("\u0667\u0660")}field2Invalid(e){const t=this.recaptchaForm.get(e);return t.touched&&t.invalid}ngOnDestroy(){this.addSubscription&&this.addSubscription.unsubscribe(),this.getSubscription&&this.getSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.cc(r),o.cc(a.a),o.cc(v.a),o.cc(x.a),o.cc(h.b),o.cc(a.c))},e.\u0275cmp=o.Wb({type:e,selectors:[["app-exception"]],viewQuery:function(e,t){var c;1&e&&o.ad(Q,!0),2&e&&o.Hc(c=o.rc())&&(t.seconfFormButton=c.first)},decls:8,vars:7,consts:[[1,"text_title"],["class","suspected_wrapper",4,"ngIf"],["class","report-form",3,"formGroup",4,"ngIf"],["class","texxt",4,"ngIf"],["class","qr_class text_sec",4,"ngIf"],[1,"suspected_wrapper"],[1,"subtitle_r"],[1,"placeholder_text"],[1,"subtitle_r","subtitle_decision",3,"ngClass"],[1,"text_sec","placeholder_text","colored_text"],[1,"text_sec","placeholder_text"],["class","text_sec placeholder_text",4,"ngIf"],[4,"ngIf"],[1,"text_sec","placeholder_text","advice_text"],[1,"report-form",3,"formGroup"],["ngForm","ngForm"],[1,"two-fields-grid"],[1,"wrapping-square","input-styling",3,"ngClass"],["color","primary",1,"sheet-elements"],["matInput","","maxlength","500","formControlName","FirstName"],[3,"control","form"],["matInput","","maxlength","500","formControlName","LastName"],[1,"single-lined-element"],["matInput","","formControlName","MobileNumber"],["formControlName","Kadaa"],[3,"value",4,"ngFor","ngForOf"],[1,"single-lined-element","textarea"],[1,"wrapping-square",3,"ngClass"],["matInput","","maxlength","1000","formControlName","DestinationAddress"],["matInput","","formControlName","ExpectedMobilityDate",3,"readOnly","owlDateTimeTrigger","owlDateTime"],[3,"owlDateTimeTrigger"],[3,"disabled","pickerType","pickerMode","hour12Timer"],["expectedMobilityDate",""],["matInput","","formControlName","ExpectedMobilityTime",3,"readOnly","owlDateTimeTrigger","owlDateTime"],["expectedMobilityTime",""],["formControlName","MobilityReason"],["class","single-lined-element",4,"ngIf"],["formControlName","MobilityType"],[3,"formGroup",4,"ngIf"],["mat-raised-button","",1,"bg_dark_blue","sheet-elements","app-button",3,"click"],[3,"value"],["matInput","","maxlength","500","formControlName","OtherMobilityReason"],["matInput","","maxlength","500","formControlName","OtherMobilityType"],[3,"formGroup"],["ngFo","ngForm"],["class","recaptcha_wrapper",4,"ngIf"],[1,"hidden_btn"],["seconfFormButton",""],[1,"recaptcha_wrapper"],[1,"recaptcha",3,"ngClass","resolved"],[1,"texxt"],[1,"qr_class","text_sec"],[3,"qrdata","width","errorCorrectionLevel"],[1,"owbw"],["mat-raised-button","","type","button",1,"bg_dark_blue","sheet-elements","app-button",3,"click"]],template:function(e,t){1&e&&(o.ic(0,"div"),o.ic(1,"div",0),o.Tc(2),o.vc(3,"translate"),o.hc(),o.Rc(4,ne,59,64,"div",1),o.Rc(5,_e,103,125,"form",2),o.Rc(6,ue,3,3,"div",3),o.Rc(7,ge,13,13,"div",4),o.hc()),2&e&&(o.Pb(2),o.Vc(" ",o.wc(3,5,"lockdown_permission.exception.title")," "),o.Pb(2),o.Ac("ngIf",t.reqObj),o.Pb(1),o.Ac("ngIf",!t.sent&&t.reportForm),o.Pb(1),o.Ac("ngIf",t.sent),o.Pb(1),o.Ac("ngIf",t.sent&&t.qrCodeLink))},directives:[y.k,y.i,p.w,p.r,p.j,g.a,g.d,f.b,p.b,p.m,p.q,p.h,k.a,P.a,y.j,M.c,M.e,u.a,M.b,T.m,C.c,q.a],pipes:[l.c],styles:[".text_title[_ngcontent-%COMP%]{margin:5px 0 30px;font-size:16px;text-align:center}.texxt[_ngcontent-%COMP%]{margin-top:50px}.sheet_title[_ngcontent-%COMP%]{text-align:center}.checkbox-wrapper[_ngcontent-%COMP%]     span.mat-checkbox-label{white-space:pre-wrap}.checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-indeterminate, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-indeterminate{background-color:#132f5a!important}.sponsor-subtitle[_ngcontent-%COMP%]{margin-top:15px}.input-styling[_ngcontent-%COMP%]     mat-form-field{width:100%}.input-styling[_ngcontent-%COMP%]     mat-form-field textarea{resize:none!important;overflow:hidden!important}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-underline{display:none}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix{display:-ms-flexbox;display:flex}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-input-element{height:20px;width:90%}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{overflow:unset}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-select-arrow{color:#538bea}.qr_class[_ngcontent-%COMP%]{text-align:center}.subtitle_r[_ngcontent-%COMP%]{overflow-wrap:break-word;margin-bottom:10px}.subtitle_r[_ngcontent-%COMP%]   .placeholder_text[_ngcontent-%COMP%]{font-weight:700}.advice_text[_ngcontent-%COMP%]{margin-top:10px}.subtitle_decision[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;padding:10px;margin-top:20px}.subtitle_decision.red_b[_ngcontent-%COMP%]{border-color:#f24a49}.subtitle_decision.red_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#f24a49}.subtitle_decision.green_b[_ngcontent-%COMP%]{border-color:#10743e}.subtitle_decision.green_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#10743e}.subtitle_decision.orange_b[_ngcontent-%COMP%]{border-color:#f59200}.subtitle_decision.orange_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#f59200}.colored_text[_ngcontent-%COMP%]{font-size:18px;margin:10px}.recaptcha_wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding-top:20px}.recaptcha_wrapper[_ngcontent-%COMP%]   .recaptcha[_ngcontent-%COMP%]{margin:auto}.app-button-here[_ngcontent-%COMP%]{height:35px;border-radius:3px;color:#fff;font-weight:700;margin-bottom:10px;margin-top:20px;outline:none}.owbw[_ngcontent-%COMP%]{overflow-wrap:break-word}.hidden_btn[_ngcontent-%COMP%]{display:none}.border_invalid[_ngcontent-%COMP%]{border:1px solid #f24a49}"]}),e})()},{path:"clearance",component:K}]}];let we=(()=>{class e{}return e.\u0275mod=o.ac({type:e}),e.\u0275inj=o.Zb({factory:function(t){return new(t||e)},imports:[[a.d.forChild(fe)],a.d]}),e})();var ve=c("PCNd");c.d(t,"PermissionModule",(function(){return xe}));let xe=(()=>{class e{}return e.\u0275mod=o.ac({type:e}),e.\u0275inj=o.Zb({factory:function(t){return new(t||e)},providers:[r],imports:[[we,ve.a]]}),e})()}}]);