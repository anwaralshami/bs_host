(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"6aiu":function(e,t,o){"use strict";o.r(t);var c=o("ktN8"),i=o("fXoL"),n=o("tk/3");let r=(()=>{class e extends c.a{constructor(e,t){super(e,t),this.http=e,this.injector=t,this.byPassPhone=!1}shouldByPassPhone(){return this.byPassPhone}requestException(e){let t="";return t=this.byPassPhone?"mobility_request_bypass_phone":"mobility_request",this.post(t,e)}getRequestException(e,t,o){let c={code:e};return t&&(c.phone=t),o&&(c.officerCode=o),this.get("mobility_request",this.setAndGetParams(c))}requestClearence(e){let t="";return t=this.byPassPhone?"mobility_clearence_bypass_phone":"mobility_clearence",this.post(t,e)}getRequestClearence(e,t,o){let c={code:e};return t&&(c.phone=t),o&&(c.officerCode=o),this.get("mobility_clearence",this.setAndGetParams(c))}sendVerificationCode(e){return this.post("curfew/phone_verification",e,{responseType:"text"})}}return e.\u0275fac=function(t){return new(t||e)(i.mc(n.b),i.mc(i.y))},e.\u0275prov=i.Yb({token:e,factory:e.\u0275fac}),e})();var a=o("tyNb"),s=o("sYmb");let l=(()=>{class e{constructor(e){this.router=e}ngOnInit(){}redirectToOpenData(){window.open("https://impact.gov.lb","_blank")}}return e.\u0275fac=function(t){return new(t||e)(i.cc(a.c))},e.\u0275cmp=i.Wb({type:e,selectors:[["app-permission"]],decls:41,vars:21,consts:[[1,"wrapping-background"],[1,"report-form"],[1,"header-grid"],[1,"header_logo"],["src","assets/images/COVID.png",1,"logo","logo2"],[1,"header_text"],[1,"page_title_text","arabic_title"],[1,"page_title_text"],[1,"right-sheet"],[1,"impact-logo-desktop"],["src","assets/images/impact-logo-right.png",1,"impact-logo-desktop-image",3,"click"],[1,"titles_wrapper"],[1,"desktop_logo_wrapper"],[1,"logo-wrapper"],[1,"logo-text"],[1,"sheet"],[1,"sheet-elements-container"],[1,"sheet_title"],["src","assets/images/IMPACT_left_icon.png",1,"impact-logo",3,"click"],[1,"cont"]],template:function(e,t){1&e&&(i.ic(0,"div",0),i.ic(1,"div",1),i.ic(2,"header",2),i.ic(3,"div",3),i.dc(4,"img",4),i.hc(),i.ic(5,"div",5),i.ic(6,"div",6),i.Tc(7),i.vc(8,"translate"),i.hc(),i.ic(9,"div",7),i.Tc(10),i.vc(11,"translate"),i.hc(),i.hc(),i.hc(),i.ic(12,"div",8),i.ic(13,"div",9),i.ic(14,"img",10),i.qc("click",(function(){return t.redirectToOpenData()})),i.hc(),i.hc(),i.ic(15,"div",11),i.ic(16,"div",7),i.Tc(17),i.vc(18,"translate"),i.hc(),i.ic(19,"div",7),i.Tc(20),i.vc(21,"translate"),i.hc(),i.hc(),i.ic(22,"div",12),i.ic(23,"div",13),i.dc(24,"img",4),i.ic(25,"div",14),i.ic(26,"span"),i.Tc(27),i.vc(28,"translate"),i.hc(),i.ic(29,"span"),i.Tc(30),i.vc(31,"translate"),i.hc(),i.ic(32,"span"),i.Tc(33),i.vc(34,"translate"),i.hc(),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(35,"section",15),i.ic(36,"div",16),i.ic(37,"div",17),i.ic(38,"img",18),i.qc("click",(function(){return t.redirectToOpenData()})),i.hc(),i.hc(),i.ic(39,"div",19),i.dc(40,"router-outlet"),i.hc(),i.hc(),i.hc(),i.hc(),i.hc()),2&e&&(i.Pb(7),i.Vc(" ",i.wc(8,7,"lockdown_permission.title"),""),i.Pb(3),i.Vc(" ",i.wc(11,9,"lockdown_permission.title_en"),""),i.Pb(7),i.Vc(" ",i.wc(18,11,"lockdown_permission.title"),""),i.Pb(3),i.Vc(" ",i.wc(21,13,"lockdown_permission.title_en"),""),i.Pb(7),i.Uc(i.wc(28,15,"lockdown_permission.covid_text1")),i.Pb(3),i.Uc(i.wc(31,17,"lockdown_permission.covid_text2")),i.Pb(3),i.Uc(i.wc(34,19,"lockdown_permission.covid_text3")))},directives:[a.e],pipes:[s.c],styles:["header.header-grid[_ngcontent-%COMP%]{padding:45px 25px;grid-template-columns:35% 70%}header[_ngcontent-%COMP%]   .page_title_text[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}header[_ngcontent-%COMP%]   .header_logo[_ngcontent-%COMP%]{text-align:center}header[_ngcontent-%COMP%]   .header_logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;max-width:100px}header[_ngcontent-%COMP%]   .header_logo[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;filter:drop-shadow(0 0 11.5px #00000029);padding:10px;margin:auto}header[_ngcontent-%COMP%]   .header_text[_ngcontent-%COMP%]{font-weight:400;text-align:right;margin:auto 12px}header[_ngcontent-%COMP%]   .header_text[_ngcontent-%COMP%]   .arabic_title[_ngcontent-%COMP%]{margin-bottom:7px;font-size:16px}.wrapping-background[_ngcontent-%COMP%]{background:url(2.83255fd49eef14c0cf77.jpg);width:100%;padding-bottom:30%;background-color:#fff;background-repeat:repeat-x;background-size:cover;height:100%}.right-sheet[_ngcontent-%COMP%]{display:none}.wrapping-square[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px}.sheet[_ngcontent-%COMP%]{top:170px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;min-height:calc(100% - 170px)}.cont[_ngcontent-%COMP%]{margin-bottom:15px}.texxt[_ngcontent-%COMP%]{margin-top:50px}.sheet_title[_ngcontent-%COMP%]{text-align:center}.sheet_title[_ngcontent-%COMP%]   .impact-logo[_ngcontent-%COMP%]{width:150px;margin:10px}.checkbox-wrapper[_ngcontent-%COMP%]     span.mat-checkbox-label{white-space:pre-wrap}.checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-indeterminate, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-indeterminate{background-color:#132f5a!important}.recaptcha_wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding-top:20px}.recaptcha_wrapper[_ngcontent-%COMP%]   .recaptcha[_ngcontent-%COMP%]{margin:auto}.sponsor-subtitle[_ngcontent-%COMP%]{margin-top:15px}@media screen and (min-width:768px){.report-form[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;height:100vh}.wrapping-background[_ngcontent-%COMP%]{background:none;background-color:#f4f4f4!important;padding-bottom:0}.sheet[_ngcontent-%COMP%]{position:static;width:50%;border-top-left-radius:0;border-top-right-radius:0;height:100%;overflow:auto}.sheet-elements-container[_ngcontent-%COMP%]{padding:8%}.impact-logo[_ngcontent-%COMP%]{display:none}.impact-logo-desktop[_ngcontent-%COMP%]{width:30%;margin-top:50px}.impact-logo-desktop[_ngcontent-%COMP%]   .impact-logo-desktop-image[_ngcontent-%COMP%]{width:100%}.right-sheet[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;width:50%;-ms-flex-direction:column;flex-direction:column;background:url(2.83255fd49eef14c0cf77.jpg);background-repeat:repeat-x;background-size:cover;border-top-left-radius:25px;border-bottom-left-radius:25px}header.header-grid[_ngcontent-%COMP%]{display:none;grid-template-columns:none}.titles_wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:20% 15%;text-align:initial}.page_title_text[_ngcontent-%COMP%]{font-size:25px;padding:5px;line-height:30px}.arabic_title[_ngcontent-%COMP%]{margin-bottom:15px}.desktop_logo_wrapper[_ngcontent-%COMP%]{-ms-flex-pack:distribute;justify-content:space-around;padding-bottom:3%}.desktop_logo_wrapper[_ngcontent-%COMP%], .desktop_logo_wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.desktop_logo_wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;max-width:90px;margin:auto}.desktop_logo_wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-right:10px;color:#fff;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;text-align:justify;-ms-flex-item-align:center;align-self:center}.desktop_logo_wrapper[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;padding:10px}}"]}),e})();var d=o("dNgK"),p=o("kh7C"),h=o("0IaG"),b=o("2ChS"),m=o("NFeN");let _=(()=>{class e{constructor(e,t,o,c,i,n,r){this._permissionService=e,this.route=t,this._snackBar=o,this.utilsService=c,this.dialog=i,this.router=n,this._bottomSheetRef=r,this.showRecaptcha=!0,this.showOtherMobilityReason=!1,this.showOtherMobilityType=!1,this.qrCodeLink="",this.sent=!1}ngOnInit(){}closeBottomSheet(){this._bottomSheetRef.dismiss(!0)}}return e.\u0275fac=function(t){return new(t||e)(i.cc(r),i.cc(a.a),i.cc(d.a),i.cc(p.a),i.cc(h.b),i.cc(a.c),i.cc(b.c))},e.\u0275cmp=i.Wb({type:e,selectors:[["app-brochure"]],decls:33,vars:6,consts:[["id","brochure",1,"brochureLayer1"],["mat-raised-button","",1,"goTOBrochureBtn"],[1,"up_btn",3,"click"],[1,"arrowUp"],[1,"covid_img"],["src","assets/images/brochure/COVID-19.svg",1,"covid_icon"],[1,"brochureText"],[1,"title1"],[1,"title2"],[1,"brochureLayer2"],[1,"parts_wrapper","parts_wrapper1"],[1,"part","part1"],["src","assets/images/brochure/brochure_01.svg",1,"img","img1"],[1,"part","part2"],["src","assets/images/brochure/brochure_02.svg",1,"img","img2"],[1,"parts_wrapper","parts_wrapper2"],[1,"part","part3"],["src","assets/images/brochure/brochure_04.svg",1,"img","img3"],[1,"part","part4"],[1,"part4_img"],["src","assets/images/brochure/MIM_logo.svg",1,"img","img4","icon1"],["src","assets/images/brochure/MOPH_logo.svg",1,"img","img4","icon2"],["src","assets/images/brochure/LRC_logo.svg",1,"img","img4","icon3"],["src","assets/images/brochure/dis_manag_unit_logo.svg",1,"img","img4","icon4"],["src","assets/images/brochure/USAID_logo.svg",1,"img","img4","icon5"],["src","assets/images/brochure/UNDP_logo.svg",1,"img","img4","icon6"],["src","assets/images/brochure/UNICEF_logo.svg",1,"img","img4","icon7"],["src","assets/images/brochure/WHO_logo.svg",1,"img","img4","icon8"]],template:function(e,t){1&e&&(i.ic(0,"div",0),i.ic(1,"div",1),i.ic(2,"div",2),i.qc("click",(function(){return t.closeBottomSheet()})),i.ic(3,"mat-icon",3),i.Tc(4,"keyboard_arrow_down"),i.hc(),i.hc(),i.ic(5,"div",4),i.dc(6,"img",5),i.hc(),i.ic(7,"div",6),i.ic(8,"div",7),i.Tc(9),i.vc(10,"translate"),i.hc(),i.ic(11,"div",8),i.Tc(12),i.vc(13,"translate"),i.hc(),i.hc(),i.hc(),i.ic(14,"div",9),i.ic(15,"div",10),i.ic(16,"div",11),i.dc(17,"img",12),i.hc(),i.ic(18,"div",13),i.dc(19,"img",14),i.hc(),i.hc(),i.ic(20,"div",15),i.ic(21,"div",16),i.dc(22,"img",17),i.hc(),i.ic(23,"div",18),i.ic(24,"div",19),i.dc(25,"img",20),i.dc(26,"img",21),i.dc(27,"img",22),i.dc(28,"img",23),i.dc(29,"img",24),i.dc(30,"img",25),i.dc(31,"img",26),i.dc(32,"img",27),i.hc(),i.hc(),i.hc(),i.hc(),i.hc()),2&e&&(i.Pb(9),i.Vc(" ",i.wc(10,2,"lockdown_permission.brochure.title1")," "),i.Pb(3),i.Vc(" ",i.wc(13,4,"lockdown_permission.brochure.title2")," "))},directives:[m.a],pipes:[s.c],styles:[".mat-bottom-sheet-container{padding:0;border-radius:25px 25px 0 0}.brochureLayer1[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;filter:drop-shadow(0 0 17.5px rgba(0,0,0,.16));background-color:#1a47a8;border:3px solid #00bc9b}.brochureLayer1[_ngcontent-%COMP%]   .goTOBrochureBtn[_ngcontent-%COMP%]{border:none;background-color:#1a47a8;text-align:right;border-radius:59px;margin:20px 20px 100px}.brochureLayer1[_ngcontent-%COMP%]   .goTOBrochureBtn[_ngcontent-%COMP%]   .title1[_ngcontent-%COMP%]{font-size:24px;line-height:24px;color:#fff;font-family:Hacen Liner XL;text-align:right;padding-bottom:10px}.brochureLayer1[_ngcontent-%COMP%]   .goTOBrochureBtn[_ngcontent-%COMP%]   .title2[_ngcontent-%COMP%]{font-size:24px;line-height:24px;color:#00bc9b;font-family:Hacen Liner XL;text-align:right}.brochureLayer1[_ngcontent-%COMP%]   .goTOBrochureBtn[_ngcontent-%COMP%]   .up_btn[_ngcontent-%COMP%]{cursor:pointer;float:left;margin-top:7px;border-radius:50px;padding:10px;background-color:#fff;display:-ms-flexbox;display:flex}.brochureLayer1[_ngcontent-%COMP%]   .goTOBrochureBtn[_ngcontent-%COMP%]   .covid_img[_ngcontent-%COMP%]{float:left;margin-left:15px}.brochureLayer1[_ngcontent-%COMP%]   .goTOBrochureBtn[_ngcontent-%COMP%]   .covid_img[_ngcontent-%COMP%]   .covid_icon[_ngcontent-%COMP%]{width:60px}.brochureLayer1[_ngcontent-%COMP%]   .goTOBrochureBtn[_ngcontent-%COMP%]   .arrowUp[_ngcontent-%COMP%]{color:#1a47a8}.brochureLayer1[_ngcontent-%COMP%]   .goTOBrochureBtn[_ngcontent-%COMP%]   .brochureText[_ngcontent-%COMP%]{float:right}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]{background-color:#f4f4f4;min-height:500px}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]{background-color:#f4f4f4}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%], .brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{padding:10px}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part4[_ngcontent-%COMP%]{height:65px;display:-ms-flexbox;display:flex}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part4[_ngcontent-%COMP%]   .part4_img[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;margin-top:auto;margin-right:auto}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part4[_ngcontent-%COMP%]   .part4_img[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{width:10%!important;margin:auto;height:50px}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part4[_ngcontent-%COMP%]   .part4_img[_ngcontent-%COMP%]   .img4.icon2[_ngcontent-%COMP%]{width:15%!important}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part4[_ngcontent-%COMP%]   .part4_img[_ngcontent-%COMP%]   .img4.icon6[_ngcontent-%COMP%]{height:40px}.brochureLayer1[_ngcontent-%COMP%]   .brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]   .part4[_ngcontent-%COMP%]   .part4_img[_ngcontent-%COMP%]   .img4.icon8[_ngcontent-%COMP%]{width:15%!important}@media screen and (min-width:901px){.brochureLayer2[_ngcontent-%COMP%]{min-height:380px!important}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper.parts_wrapper2[_ngcontent-%COMP%]{padding-right:35px}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper.parts_wrapper2[_ngcontent-%COMP%]   .part3[_ngcontent-%COMP%]{-ms-flex:1;flex:1;margin-bottom:35px;margin-top:-10px}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper.parts_wrapper2[_ngcontent-%COMP%]   .part4[_ngcontent-%COMP%]{-ms-flex:1;flex:1;-ms-flex-item-align:end;align-self:flex-end}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper.parts_wrapper2[_ngcontent-%COMP%]   .part4[_ngcontent-%COMP%]   .part4_img[_ngcontent-%COMP%]{max-width:400px}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper.parts_wrapper1[_ngcontent-%COMP%]{min-height:130px!important}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper.parts_wrapper1[_ngcontent-%COMP%]   .part2[_ngcontent-%COMP%]{padding-top:80px;margin-bottom:-40px}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper.parts_wrapper1[_ngcontent-%COMP%]   .part1[_ngcontent-%COMP%]{text-align:right}.brochureLayer2[_ngcontent-%COMP%]   .parts_wrapper.parts_wrapper1[_ngcontent-%COMP%]   .part1[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{width:85%!important}}  .mat-bottom-sheet-container{max-height:none}"]}),e})();var g=o("QAr1");let u=(()=>{class e{constructor(e,t,o,c){this.router=e,this.route=t,this._bottomSheet=o,this.dialog=c}ngOnInit(){}navigateTo(e){this.router.navigate([e],{relativeTo:this.route.parent})}openBottomSheet(){this._bottomSheet.open(_)}openLegalTerms(e){window.open(`assets/docs/${e}.pdf`,"_blank")}openSupplier(){this.dialog.open(g.a,{width:"400px",data:{arabic:"supplier_permission_request.blocked",english:"supplier_permission_request.blocked_en"}})}}return e.\u0275fac=function(t){return new(t||e)(i.cc(a.c),i.cc(a.a),i.cc(b.a),i.cc(h.b))},e.\u0275cmp=i.Wb({type:e,selectors:[["app-permission-landing"]],decls:73,vars:42,consts:[[1,"body_permission"],[1,"text_title","text_title_arabic"],[1,"text_title"],[1,"buttons_wrapper"],["mat-raised-button","",1,"choice_opt","sheet-elements","app-button"],[1,"arabic_text"],[1,"pad_top"],[1,"details_btn"],[1,"back_btn","bg_dark_blue",3,"click"],[1,"back_icon"],[1,"back_btn","bg_dark_news_blue",3,"click"],[1,"goTOBrochureBtn"],[1,"up_btn",3,"click"],[1,"arrowUp"],[1,"brochureText"],[1,"title1"],[1,"title2"],[1,"links"],[3,"click"]],template:function(e,t){1&e&&(i.ic(0,"div",0),i.ic(1,"div",1),i.Tc(2),i.vc(3,"translate"),i.hc(),i.ic(4,"div",2),i.Tc(5),i.vc(6,"translate"),i.hc(),i.ic(7,"div",3),i.ic(8,"div",4),i.ic(9,"div",5),i.Tc(10),i.vc(11,"translate"),i.hc(),i.ic(12,"div",6),i.Tc(13),i.vc(14,"translate"),i.hc(),i.ic(15,"div",7),i.ic(16,"div",8),i.qc("click",(function(){return t.navigateTo("clearance")})),i.ic(17,"mat-icon",9),i.Tc(18,"arrow_back"),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(19,"div",4),i.ic(20,"div",5),i.Tc(21),i.vc(22,"translate"),i.hc(),i.ic(23,"div",6),i.Tc(24),i.vc(25,"translate"),i.hc(),i.ic(26,"div",7),i.ic(27,"div",10),i.qc("click",(function(){return t.navigateTo("exception")})),i.ic(28,"mat-icon",9),i.Tc(29,"arrow_back"),i.hc(),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(30,"div",3),i.ic(31,"div",4),i.ic(32,"div",5),i.Tc(33),i.vc(34,"translate"),i.hc(),i.ic(35,"div",6),i.Tc(36),i.vc(37,"translate"),i.hc(),i.ic(38,"div",7),i.ic(39,"div",8),i.qc("click",(function(){return t.navigateTo("../supplier")})),i.ic(40,"mat-icon",9),i.Tc(41,"arrow_back"),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(42,"div",4),i.ic(43,"div",5),i.Tc(44),i.vc(45,"translate"),i.hc(),i.ic(46,"div",6),i.Tc(47),i.vc(48,"translate"),i.hc(),i.ic(49,"div",7),i.ic(50,"div",10),i.qc("click",(function(){return t.navigateTo("../tracking-registration")})),i.ic(51,"mat-icon",9),i.Tc(52,"arrow_back"),i.hc(),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(53,"div"),i.ic(54,"div",11),i.ic(55,"div",12),i.qc("click",(function(){return t.openBottomSheet()})),i.ic(56,"mat-icon",13),i.Tc(57,"keyboard_arrow_up"),i.hc(),i.hc(),i.ic(58,"div",14),i.ic(59,"div",15),i.Tc(60),i.vc(61,"translate"),i.hc(),i.ic(62,"div",16),i.Tc(63),i.vc(64,"translate"),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(65,"div",17),i.ic(66,"a",18),i.qc("click",(function(){return t.openLegalTerms("privacy_policy")})),i.Tc(67),i.vc(68,"translate"),i.hc(),i.Tc(69," - "),i.ic(70,"a",18),i.qc("click",(function(){return t.openLegalTerms("Terms_of_use")})),i.Tc(71),i.vc(72,"translate"),i.hc(),i.hc(),i.hc()),2&e&&(i.Pb(2),i.Vc(" ",i.wc(3,14,"lockdown_permission.landing.title")," "),i.Pb(3),i.Vc(" ",i.wc(6,16,"lockdown_permission.landing.title_en")," "),i.Pb(5),i.Vc(" ",i.wc(11,18,"lockdown_permission.landing.clearence")," "),i.Pb(3),i.Vc(" ",i.wc(14,20,"lockdown_permission.landing.clearence_en")," "),i.Pb(8),i.Vc(" ",i.wc(22,22,"lockdown_permission.landing.exception")," "),i.Pb(3),i.Vc(" ",i.wc(25,24,"lockdown_permission.landing.exception_en")," "),i.Pb(9),i.Vc(" ",i.wc(34,26,"supplier_permission_request.title")," "),i.Pb(3),i.Vc(" ",i.wc(37,28,"supplier_permission_request.title_en")," "),i.Pb(8),i.Vc(" ",i.wc(45,30,"tracking_module.title")," "),i.Pb(3),i.Vc(" ",i.wc(48,32,"tracking_module.title_en")," "),i.Pb(13),i.Vc(" ",i.wc(61,34,"lockdown_permission.brochure.title1")," "),i.Pb(3),i.Vc(" ",i.wc(64,36,"lockdown_permission.brochure.title2")," "),i.Pb(4),i.Vc(" ",i.wc(68,38,"lockdown_permission.privacy_policy"),""),i.Pb(4),i.Uc(i.wc(72,40,"lockdown_permission.terms_of_use")))},directives:[m.a],pipes:[s.c],styles:[".body_permission[_ngcontent-%COMP%]{color:#08193b}.body_permission[_ngcontent-%COMP%]   .text_title[_ngcontent-%COMP%]{text-align:center}.body_permission[_ngcontent-%COMP%]   .text_title.text_title_arabic[_ngcontent-%COMP%]{font-size:20px}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;width:100%}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background-color:#fff;filter:drop-shadow(0 0 11.5px #00000029);margin:10px;padding:25px 10px 15px;border-radius:6px;text-align:right;color:#020813;font-weight:400}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt[_ngcontent-%COMP%]   .details_btn[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt[_ngcontent-%COMP%]   .details_btn[_ngcontent-%COMP%]   .back_btn[_ngcontent-%COMP%]{margin-top:10px;border-radius:50px;padding:12px;color:#fff;display:-ms-flexbox;display:flex;cursor:pointer}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt[_ngcontent-%COMP%]   .pad_top[_ngcontent-%COMP%]{padding-top:10px;min-height:80px}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt[_ngcontent-%COMP%]   .arabic_text[_ngcontent-%COMP%]{font-size:16px;min-height:80px}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt_single[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background-color:#fff;filter:drop-shadow(0 0 11.5px #00000029);margin:10px;padding:15px 10px;border-radius:6px;text-align:right;color:#020813;font-weight:400;display:-ms-flexbox;display:flex}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt_single[_ngcontent-%COMP%]   .details_btn[_ngcontent-%COMP%]{margin-right:auto;padding:0 15px}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt_single[_ngcontent-%COMP%]   .details_btn[_ngcontent-%COMP%]   .back_btn[_ngcontent-%COMP%]{border-radius:50px;padding:12px;color:#fff;display:-ms-flexbox;display:flex;cursor:pointer}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt_single[_ngcontent-%COMP%]   .pad_top[_ngcontent-%COMP%]{padding-top:10px}.body_permission[_ngcontent-%COMP%]   .buttons_wrapper[_ngcontent-%COMP%]   .choice_opt_single[_ngcontent-%COMP%]   .arabic_text[_ngcontent-%COMP%]{font-size:16px}.body_permission[_ngcontent-%COMP%]   .maxWidth[_ngcontent-%COMP%]{width:100%}.bg_dark_news_blue[_ngcontent-%COMP%], .goTOBrochureBtn[_ngcontent-%COMP%]{background-color:#1a47a8}.goTOBrochureBtn[_ngcontent-%COMP%]{padding:15px;border:none;text-align:right;margin:30px 10px;border-radius:10px;filter:drop-shadow(0 0 11.5px rgba(0,0,0,.2));height:90px}.goTOBrochureBtn[_ngcontent-%COMP%]   .title1[_ngcontent-%COMP%]{color:#fff;padding-bottom:10px}.goTOBrochureBtn[_ngcontent-%COMP%]   .title1[_ngcontent-%COMP%], .goTOBrochureBtn[_ngcontent-%COMP%]   .title2[_ngcontent-%COMP%]{font-size:24px;line-height:24px;font-family:Hacen Liner XL;text-align:right}.goTOBrochureBtn[_ngcontent-%COMP%]   .title2[_ngcontent-%COMP%]{color:#00bc9b}.goTOBrochureBtn[_ngcontent-%COMP%]   .up_btn[_ngcontent-%COMP%]{cursor:pointer;float:left;margin-left:20px;margin-top:7px;border-radius:50px;padding:10px;background-color:#fff;display:-ms-flexbox;display:flex}.goTOBrochureBtn[_ngcontent-%COMP%]   .arrowUp[_ngcontent-%COMP%]{color:#1a47a8}.goTOBrochureBtn[_ngcontent-%COMP%]   .brochureText[_ngcontent-%COMP%]{float:right}.links[_ngcontent-%COMP%]{text-align:center;font-size:medium;padding-bottom:15px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#132f5a;cursor:pointer;text-decoration:underline}"]}),e})();var f=o("3Pt+"),v=o("fX+G"),w=o("cH1L");let P=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,console.log(t)}ngOnInit(){console.log(this.data)}buttonClicked(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(i.cc(h.f),i.cc(h.a))},e.\u0275cmp=i.Wb({type:e,selectors:[["app-permission-warning-dialog"]],decls:10,vars:9,consts:[[1,"texxt"],["dir","ltr",1,"text_sec"],[1,"text_sec"],["mat-raised-button","",1,"app-button","cancel-btn",3,"click"]],template:function(e,t){1&e&&(i.ic(0,"div",0),i.ic(1,"div",1),i.Tc(2),i.vc(3,"translate"),i.hc(),i.ic(4,"div",2),i.Tc(5),i.vc(6,"translate"),i.hc(),i.ic(7,"button",3),i.qc("click",(function(){return t.buttonClicked()})),i.Tc(8),i.vc(9,"translate"),i.hc(),i.hc()),2&e&&(i.Pb(2),i.Vc(" ",i.wc(3,3,t.data.english)," "),i.Pb(3),i.Vc(" ",i.wc(6,5,t.data.arabic)," "),i.Pb(3),i.Uc(i.wc(9,7,"lockdown_permission.decision.close")))},directives:[w.b],pipes:[s.c],styles:[".texxt[_ngcontent-%COMP%]{margin-top:25px;text-align:center}.text_sec[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px}.text_sec.red_c[_ngcontent-%COMP%]{color:#f24a49}.text_sec.green_c[_ngcontent-%COMP%]{color:#10743e}.text_sec.orange_c[_ngcontent-%COMP%]{color:#f59200}.title_text[_ngcontent-%COMP%]{font-size:18px;margin:10px}.cancel-btn[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #c7c7c7;color:#538bea;outline:none!important;width:150px}"]}),e})();var x=o("gmIW"),y=o("tI4T"),O=o("ofXK"),M=o("0hV+"),C=o("kmnG"),k=o("d3UM"),T=o("SNmT"),A=o("qFsG"),q=o("z17N"),R=o("bSwM"),F=o("FKr1"),I=o("jCJ1");const V=["seconfFormButton"];function E(e,t){1&e&&(i.ic(0,"div",6),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e&&(i.Pb(1),i.Vc(" ",i.wc(2,1,"lockdown_permission.clearence.title")," "))}function L(e,t){if(1&e&&(i.ic(0,"div",11),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e){const e=i.uc(2);i.Pb(1),i.Wc(" ",i.wc(2,2,"lockdown_permission.clearence.expected_date")," : ",e.reqObj.ExpectedMobilityDate," ")}}function D(e,t){if(1&e&&(i.ic(0,"div",7),i.ic(1,"div",8),i.ic(2,"div",9),i.Tc(3),i.vc(4,"translate"),i.hc(),i.Rc(5,L,3,4,"div",10),i.ic(6,"div",9),i.ic(7,"div"),i.Tc(8),i.vc(9,"translate"),i.hc(),i.ic(10,"div"),i.Tc(11),i.vc(12,"translate"),i.hc(),i.hc(),i.hc(),i.hc()),2&e){const e=i.uc();i.Pb(3),i.Vc(" ",i.wc(4,4,"lockdown_permission.clearence.registered")," "),i.Pb(2),i.Ac("ngIf",e.reqObj.ExpectedMobilityDate),i.Pb(3),i.Vc(" ",i.wc(9,6,"lockdown_permission.clearence.advice_popup_1")," "),i.Pb(3),i.Vc(" ",i.wc(12,8,"lockdown_permission.clearence.advice_popup_3")," ")}}function N(e,t){if(1&e){const e=i.jc();i.ic(0,"div",12),i.ic(1,"div"),i.Tc(2),i.vc(3,"translate"),i.hc(),i.dc(4,"qrcode",13),i.ic(5,"div"),i.Tc(6),i.vc(7,"translate"),i.hc(),i.ic(8,"a",14),i.Tc(9),i.hc(),i.ic(10,"button",15),i.qc("click",(function(){return i.Kc(e),i.uc().copyLink()})),i.Tc(11),i.vc(12,"translate"),i.hc(),i.hc()}if(2&e){const e=i.uc();i.Pb(2),i.Vc(" ",i.wc(3,8,"lockdown_permission.clearence.qr_code")," "),i.Pb(2),i.Ac("qrdata",e.qrCodeLink)("width",256)("errorCorrectionLevel","M"),i.Pb(2),i.Vc(" ",i.wc(7,10,"lockdown_permission.clearence.copy_link")," "),i.Pb(2),i.Ac("href",e.qrCodeLink,i.Mc),i.Pb(1),i.Vc(" ",e.qrCodeLink," "),i.Pb(2),i.Uc(i.wc(12,12,"lockdown_permission.clearence.copy"))}}function j(e,t){if(1&e&&(i.ic(0,"mat-option",48),i.Tc(1),i.hc()),2&e){const e=t.$implicit;i.Ac("value",e.REF),i.Pb(1),i.Vc(" ",e.NAME,"")}}function S(e,t){if(1&e&&(i.ic(0,"div"),i.Tc(1),i.hc()),2&e){const e=i.uc().$implicit;i.Pb(1),i.Vc(" ",e.NAME_en||""," ")}}function W(e,t){if(1&e&&(i.ic(0,"mat-option",48),i.ic(1,"div"),i.Tc(2),i.hc(),i.Rc(3,S,2,1,"div",5),i.hc()),2&e){const e=t.$implicit;i.Ac("value",e.REF),i.Pb(2),i.Vc(" ",e.NAME," "),i.Pb(1),i.Ac("ngIf",e.NAME_en)}}const B=function(e){return{invalid:e}};function U(e,t){if(1&e&&(i.ic(0,"div",18),i.ic(1,"div",19),i.ic(2,"mat-form-field",20),i.ic(3,"mat-label"),i.Tc(4),i.vc(5,"translate"),i.vc(6,"translate"),i.hc(),i.dc(7,"input",49),i.hc(),i.hc(),i.dc(8,"app-error-display",23),i.hc()),2&e){i.uc();const e=i.Ic(1),t=i.uc();i.Pb(1),i.Ac("ngClass",i.Ec(9,B,t.fieldInvalid("OtherMobilityType"))),i.Pb(3),i.Wc("",i.wc(5,5,"lockdown_permission.clearence.other_mobility_type_placeholder"),"* ",i.wc(6,7,"lockdown_permission.clearence.other_mobility_type_placeholder_en"),"* "),i.Pb(4),i.Ac("control",t.reportForm.get("OtherMobilityType"))("form",e)}}const $=function(e){return{border_invalid:e}};function z(e,t){if(1&e){const e=i.jc();i.ic(0,"div",55),i.ic(1,"re-captcha",56),i.qc("resolved",(function(t){return i.Kc(e),i.uc(3).resolved(t)})),i.hc(),i.hc()}if(2&e){const e=i.uc(3);i.Pb(1),i.Ac("ngClass",i.Ec(1,$,e.field2Invalid("RecaptchaToken")))}}function G(e,t){if(1&e&&(i.ic(0,"form",50,51),i.Rc(2,z,2,3,"div",52),i.dc(3,"button",53,54),i.hc()),2&e){const e=i.uc(2);i.Ac("formGroup",e.recaptchaForm),i.Pb(2),i.Ac("ngIf",e.showRecaptcha)}}function H(e,t){if(1&e){const e=i.jc();i.ic(0,"button",57),i.qc("click",(function(){return i.Kc(e),i.uc(2).submitForm()})),i.Tc(1),i.vc(2,"translate"),i.hc()}2&e&&(i.Pb(1),i.Uc(i.wc(2,1,"lockdown_permission.clearence.send")))}function Y(e,t){if(1&e&&(i.ic(0,"form",16,17),i.ic(2,"div"),i.Tc(3),i.vc(4,"translate"),i.hc(),i.ic(5,"div",18),i.ic(6,"div",19),i.ic(7,"mat-form-field",20),i.ic(8,"mat-label"),i.Tc(9),i.vc(10,"translate"),i.vc(11,"translate"),i.hc(),i.ic(12,"mat-select",21),i.Rc(13,j,2,2,"mat-option",22),i.hc(),i.hc(),i.hc(),i.dc(14,"app-error-display",23),i.hc(),i.ic(15,"div",24),i.ic(16,"div"),i.ic(17,"div",19),i.ic(18,"mat-form-field",20),i.ic(19,"mat-label"),i.Tc(20),i.vc(21,"translate"),i.vc(22,"translate"),i.hc(),i.dc(23,"input",25),i.hc(),i.hc(),i.dc(24,"app-error-display",23),i.hc(),i.ic(25,"div"),i.ic(26,"div",19),i.ic(27,"mat-form-field",20),i.ic(28,"mat-label"),i.Tc(29),i.vc(30,"translate"),i.vc(31,"translate"),i.hc(),i.dc(32,"input",26),i.hc(),i.hc(),i.dc(33,"app-error-display",23),i.hc(),i.hc(),i.ic(34,"div",18),i.ic(35,"div"),i.ic(36,"div",19),i.ic(37,"mat-form-field",20),i.ic(38,"mat-label"),i.Tc(39),i.vc(40,"translate"),i.vc(41,"translate"),i.hc(),i.dc(42,"input",27),i.hc(),i.hc(),i.dc(43,"app-error-display",23),i.hc(),i.hc(),i.ic(44,"div",28),i.ic(45,"div",29),i.ic(46,"mat-form-field",20),i.ic(47,"mat-label"),i.Tc(48),i.vc(49,"translate"),i.vc(50,"translate"),i.hc(),i.dc(51,"textarea",30),i.hc(),i.hc(),i.dc(52,"app-error-display",23),i.hc(),i.ic(53,"div",28),i.ic(54,"div",29),i.ic(55,"mat-form-field",20),i.ic(56,"mat-label"),i.Tc(57),i.vc(58,"translate"),i.vc(59,"translate"),i.hc(),i.dc(60,"textarea",31),i.hc(),i.hc(),i.dc(61,"app-error-display",23),i.hc(),i.ic(62,"div",18),i.ic(63,"div",19),i.ic(64,"mat-form-field",20),i.ic(65,"mat-label"),i.Tc(66),i.vc(67,"translate"),i.vc(68,"translate"),i.hc(),i.dc(69,"input",32),i.ic(70,"span",33),i.ic(71,"mat-icon"),i.Tc(72,"today"),i.hc(),i.hc(),i.dc(73,"owl-date-time",34,35),i.hc(),i.hc(),i.dc(75,"app-error-display",23),i.hc(),i.ic(76,"div",18),i.ic(77,"div",19),i.ic(78,"mat-form-field",20),i.ic(79,"mat-label"),i.Tc(80),i.vc(81,"translate"),i.vc(82,"translate"),i.hc(),i.dc(83,"input",36),i.ic(84,"span",33),i.ic(85,"mat-icon"),i.Tc(86,"schedule"),i.hc(),i.hc(),i.dc(87,"owl-date-time",34,37),i.hc(),i.hc(),i.dc(89,"app-error-display",23),i.hc(),i.ic(90,"div",18),i.ic(91,"div",19),i.ic(92,"mat-form-field",20),i.ic(93,"mat-label"),i.Tc(94),i.vc(95,"translate"),i.vc(96,"translate"),i.hc(),i.dc(97,"input",38),i.hc(),i.hc(),i.dc(98,"app-error-display",23),i.hc(),i.ic(99,"div",18),i.ic(100,"div",19),i.ic(101,"mat-form-field",20),i.ic(102,"mat-label"),i.Tc(103),i.vc(104,"translate"),i.vc(105,"translate"),i.hc(),i.ic(106,"mat-select",39),i.Rc(107,W,4,3,"mat-option",22),i.hc(),i.hc(),i.hc(),i.dc(108,"app-error-display",23),i.hc(),i.Rc(109,U,9,11,"div",40),i.ic(110,"div",18),i.ic(111,"div",29),i.ic(112,"div",41),i.ic(113,"mat-checkbox",42),i.Tc(114),i.vc(115,"translate"),i.vc(116,"translate"),i.hc(),i.hc(),i.hc(),i.dc(117,"app-error-display",23),i.hc(),i.ic(118,"div",18),i.ic(119,"div",43),i.ic(120,"div",41),i.ic(121,"mat-checkbox",44),i.ic(122,"div"),i.Tc(123),i.vc(124,"translate"),i.hc(),i.ic(125,"div",45),i.Tc(126),i.vc(127,"translate"),i.hc(),i.hc(),i.hc(),i.hc(),i.dc(128,"app-error-display",23),i.hc(),i.Rc(129,G,5,2,"form",46),i.Rc(130,H,3,3,"button",47),i.hc()),2&e){const e=i.Ic(1),t=i.Ic(74),o=i.Ic(88),c=i.uc();i.Ac("formGroup",c.reportForm),i.Pb(3),i.Uc(i.wc(4,81,"lockdown_permission.clearence.work_type_text")),i.Pb(3),i.Ac("ngClass",i.Ec(131,B,c.fieldInvalid("JobType"))),i.Pb(3),i.Wc("",i.wc(10,83,"lockdown_permission.clearence.work_type_placeholder"),"* ",i.wc(11,85,"lockdown_permission.clearence.work_type_placeholder_en"),"* "),i.Pb(4),i.Ac("ngForOf",c.jobTypesOptions),i.Pb(1),i.Ac("control",c.reportForm.get("JobType"))("form",e),i.Pb(3),i.Ac("ngClass",i.Ec(133,B,c.fieldInvalid("FirstName"))),i.Pb(3),i.Wc("",i.wc(21,87,"lockdown_permission.clearence.first_name_placeholder"),"* ",i.wc(22,89,"lockdown_permission.clearence.first_name_placeholder_en"),"* "),i.Pb(4),i.Ac("control",c.reportForm.get("FirstName"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(135,B,c.fieldInvalid("LastName"))),i.Pb(3),i.Wc("",i.wc(30,91,"lockdown_permission.clearence.last_name_placeholder"),"* ",i.wc(31,93,"lockdown_permission.clearence.last_name_placeholder_en"),"* "),i.Pb(4),i.Ac("control",c.reportForm.get("LastName"))("form",e),i.Pb(3),i.Ac("ngClass",i.Ec(137,B,c.fieldInvalid("MobileNumber"))),i.Pb(3),i.Wc(" ",i.wc(40,95,"lockdown_permission.clearence.mobile_number_placeholder"),"* ",i.wc(41,97,"lockdown_permission.clearence.mobile_number_placeholder_en"),"* "),i.Pb(4),i.Ac("control",c.reportForm.get("MobileNumber"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(139,B,c.fieldInvalid("WorkAddress"))),i.Pb(3),i.Wc("",i.wc(49,99,"lockdown_permission.clearence.work_address_placeholder"),"* ",i.wc(50,101,"lockdown_permission.clearence.work_address_placeholder_en"),"* "),i.Pb(4),i.Ac("control",c.reportForm.get("WorkAddress"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(141,B,c.fieldInvalid("CurrentAddress"))),i.Pb(3),i.Wc("",i.wc(58,103,"lockdown_permission.clearence.address_placeholder"),"* ",i.wc(59,105,"lockdown_permission.clearence.address_placeholder_en"),"* "),i.Pb(4),i.Ac("control",c.reportForm.get("CurrentAddress"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(143,B,c.fieldInvalid("ExpectedMobilityDate"))),i.Pb(3),i.Wc("",i.wc(67,107,"lockdown_permission.clearence.expected_mobility_date_placeholder"),"* ",i.wc(68,109,"lockdown_permission.clearence.expected_mobility_date_placeholder_en"),"* "),i.Pb(3),i.Ac("owlDateTimeTrigger",t)("owlDateTime",t),i.Pb(1),i.Ac("owlDateTimeTrigger",t),i.Pb(3),i.Ac("disabled",c.reportForm.get("ExpectedMobilityDate").disabled)("pickerType","calendar")("pickerMode","popup")("hour12Timer",!0),i.Pb(2),i.Ac("control",c.reportForm.get("ExpectedMobilityDate"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(145,B,c.fieldInvalid("ExpectedMobilityTime"))),i.Pb(3),i.Wc("",i.wc(81,111,"lockdown_permission.clearence.expected_mobility_time_date_placeholder"),"* ",i.wc(82,113,"lockdown_permission.clearence.expected_mobility_time_date_placeholder_en"),"* "),i.Pb(3),i.Ac("owlDateTimeTrigger",o)("owlDateTime",o),i.Pb(1),i.Ac("owlDateTimeTrigger",o),i.Pb(3),i.Ac("disabled",c.reportForm.get("ExpectedMobilityTime").disabled)("pickerType","timer")("pickerMode","popup")("hour12Timer",!0),i.Pb(2),i.Ac("control",c.reportForm.get("ExpectedMobilityTime"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(147,B,c.fieldInvalid("InstitutionName"))),i.Pb(3),i.Wc("",i.wc(95,115,"lockdown_permission.clearence.administration_placeholder"),"* ",i.wc(96,117,"lockdown_permission.clearence.administration_placeholder_en"),"* "),i.Pb(4),i.Ac("control",c.reportForm.get("InstitutionName"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(149,B,c.fieldInvalid("MobilityType"))),i.Pb(3),i.Wc("",i.wc(104,119,"lockdown_permission.clearence.mobility_type_placeholder"),"* ",i.wc(105,121,"lockdown_permission.clearence.mobility_type_placeholder_en"),"* "),i.Pb(4),i.Ac("ngForOf",c.mobilityTypesOptions),i.Pb(1),i.Ac("control",c.reportForm.get("MobilityType"))("form",e),i.Pb(1),i.Ac("ngIf",c.showOtherMobilityType),i.Pb(2),i.Ac("ngClass",i.Ec(151,B,c.fieldInvalid("WorkDocumentExists"))),i.Pb(3),i.Wc(" ",i.wc(115,123,"lockdown_permission.clearence.is_card_placeholder"),"* ",i.wc(116,125,"lockdown_permission.clearence.is_card_placeholder_en"),"* "),i.Pb(3),i.Ac("control",c.reportForm.get("WorkDocumentExists"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(153,B,c.fieldInvalid("TermsApproved"))),i.Pb(4),i.Vc(" ",i.wc(124,127,"lockdown_permission.clearence.approve_placeholder")," "),i.Pb(3),i.Vc(" ",i.wc(127,129,"lockdown_permission.clearence.approve_en_placeholder")," "),i.Pb(2),i.Ac("control",c.reportForm.get("TermsApproved"))("form",e),i.Pb(1),i.Ac("ngIf",!c.sent),i.Pb(1),i.Ac("ngIf",!c.sent)}}function K(e,t){1&e&&(i.ic(0,"div",60),i.ic(1,"div",61),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.hc()),2&e&&(i.Pb(2),i.Wc(" ",i.wc(3,2,"lockdown_permission.clearence.is_card_placeholder")," ",i.wc(4,4,"lockdown_permission.clearence.is_card")," : "))}function J(e,t){if(1&e&&(i.ic(0,"div",58),i.ic(1,"div",59),i.Tc(2),i.vc(3,"translate"),i.hc(),i.ic(4,"div",60),i.ic(5,"div",61),i.Tc(6),i.vc(7,"translate"),i.vc(8,"translate"),i.hc(),i.ic(9,"div"),i.Tc(10),i.hc(),i.hc(),i.ic(11,"div",60),i.ic(12,"div",61),i.Tc(13),i.vc(14,"translate"),i.vc(15,"translate"),i.hc(),i.ic(16,"div"),i.Tc(17),i.hc(),i.hc(),i.ic(18,"div",60),i.ic(19,"div",61),i.Tc(20),i.vc(21,"translate"),i.vc(22,"translate"),i.hc(),i.ic(23,"div"),i.Tc(24),i.hc(),i.hc(),i.ic(25,"div",60),i.ic(26,"div",61),i.Tc(27),i.vc(28,"translate"),i.vc(29,"translate"),i.hc(),i.ic(30,"div"),i.Tc(31),i.hc(),i.hc(),i.ic(32,"div",60),i.ic(33,"div",61),i.Tc(34),i.vc(35,"translate"),i.vc(36,"translate"),i.hc(),i.ic(37,"div"),i.Tc(38),i.hc(),i.hc(),i.ic(39,"div",60),i.ic(40,"div",61),i.Tc(41),i.vc(42,"translate"),i.vc(43,"translate"),i.hc(),i.ic(44,"div"),i.Tc(45),i.hc(),i.hc(),i.ic(46,"div",60),i.ic(47,"div",61),i.Tc(48),i.vc(49,"translate"),i.vc(50,"translate"),i.hc(),i.ic(51,"div"),i.Tc(52),i.hc(),i.hc(),i.ic(53,"div",60),i.ic(54,"div",61),i.Tc(55),i.vc(56,"translate"),i.vc(57,"translate"),i.hc(),i.ic(58,"div"),i.Tc(59),i.hc(),i.hc(),i.Rc(60,K,5,6,"div",62),i.hc()),2&e){const e=i.uc();i.Pb(2),i.Vc(" ",i.wc(3,28,"lockdown_permission.clearence.info")," "),i.Pb(4),i.Wc(" ",i.wc(7,30,"lockdown_permission.clearence.full_name_placeholder")," ",i.wc(8,32,"lockdown_permission.clearence.full_name_placeholder_en")," : "),i.Pb(4),i.Wc(" ",e.reqObj.FirstName," ",e.reqObj.LastName," "),i.Pb(3),i.Wc(" ",i.wc(14,34,"lockdown_permission.clearence.mobile_number_placeholder")," ",i.wc(15,36,"lockdown_permission.clearence.mobile_number_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.MobileNumber," "),i.Pb(3),i.Wc(" ",i.wc(21,38,"lockdown_permission.clearence.work_address_placeholder")," ",i.wc(22,40,"lockdown_permission.clearence.work_address_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.WorkAddress," "),i.Pb(3),i.Wc(" ",i.wc(28,42,"lockdown_permission.clearence.address_placeholder")," ",i.wc(29,44,"lockdown_permission.clearence.address_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.CurrentAddress," "),i.Pb(3),i.Wc(" ",i.wc(35,46,"lockdown_permission.clearence.expected_mobility_time_and_date_placeholder")," ",i.wc(36,48,"lockdown_permission.clearence.expected_mobility_time_and_date_placeholder_en")," : "),i.Pb(4),i.Wc(" ",e.reqObj.ExpectedMobilityDate," ",e.reqObj.ExpectedMobilityTime," "),i.Pb(3),i.Wc(" ",i.wc(42,50,"lockdown_permission.exception.mobility_type_placeholder")," ",i.wc(43,52,"lockdown_permission.exception.mobility_type_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.MobilityType&&"OTHER"!=e.reqObj.MobilityType.Type?e.reqObj.MobilityType.NAME:e.reqObj.OtherMobilityType," "),i.Pb(3),i.Wc(" ",i.wc(49,54,"lockdown_permission.clearence.work_type_placeholder")," ",i.wc(50,56,"lockdown_permission.clearence.work_type_placeholder_en")," : "),i.Pb(4),i.Vc(" ",null==e.reqObj.JobType?null:e.reqObj.JobType.NAME," "),i.Pb(3),i.Wc(" ",i.wc(56,58,"lockdown_permission.clearence.administration_placeholder")," ",i.wc(57,60,"lockdown_permission.clearence.administration_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.InstitutionName," "),i.Pb(1),i.Ac("ngIf",e.reqObj.WorkDocumentExists)}}function X(e,t){if(1&e){const e=i.jc();i.ic(0,"button",57),i.qc("click",(function(){return i.Kc(e),i.uc(2).redirectToScan()})),i.Tc(1),i.vc(2,"translate"),i.hc()}2&e&&(i.Pb(1),i.Uc(i.wc(2,1,"lockdown_permission.clearence.redirect_to_scan")))}function Q(e,t){if(1&e&&(i.ic(0,"div"),i.Rc(1,X,3,3,"button",47),i.hc()),2&e){const e=i.uc();i.Pb(1),i.Ac("ngIf",e.officerCode)}}let Z=(()=>{class e{constructor(e,t,o,c,i,n){this._permissionService=e,this.route=t,this._snackBar=o,this.utilsService=c,this.dialog=i,this.router=n,this.showOtherMobilityReason=!1,this.showOtherMobilityType=!1,this.qrCodeLink="",this.sent=!1,this.showRecaptcha=!0}ngOnInit(){this.byPassPhone=this._permissionService.shouldByPassPhone(),this.getData()}getData(){this.route.queryParams.subscribe(e=>{e&&e.code?e.officerCode?(this.officerCode=e.officerCode,this.getDetails(e.code,e.officerCode)):this.getDetailsWithPhoneCheck(e.code):(this.getLookups(),this.initForm(),this.router.navigate(["."],{relativeTo:this.route,queryParams:{}}))})}getDetailsWithPhoneCheck(e){this.dialog.open(y.a,{width:"400px",disableClose:!0}).afterClosed().subscribe(t=>{t?this.getSubscription=this._permissionService.getRequestClearence(e,t).subscribe(t=>{t&&t.body&&t.body.curfew_mobility_clearence&&t.body.curfew_mobility_clearence.length>0?(this.reqObj=t.body.curfew_mobility_clearence[0],this.sent=!0,this.qrCodeLink=window.location.href):this.getDetailsWithPhoneCheck(e)},t=>{this.getDetailsWithPhoneCheck(e)}):this.router.navigate(["."],{relativeTo:this.route,queryParams:{}})})}getDetails(e,t){this.getSubscription=this._permissionService.getRequestClearence(e,null,t).subscribe(e=>{e&&e.body&&e.body.curfew_mobility_clearence&&e.body.curfew_mobility_clearence.length>0?(this.reqObj=e.body.curfew_mobility_clearence[0],this.sent=!0,this.qrCodeLink=window.location.href):this.router.navigate(["."],{relativeTo:this.route,queryParams:{}})},e=>{})}initForm(){this.reportForm=new f.i({FirstName:new f.f(null,f.v.required),LastName:new f.f(null,f.v.required),MobileNumber:new f.f(null,[f.v.required,f.v.pattern(/^([\u0660-\u0669]|[0-9]){8}$/)]),CurrentAddress:new f.f(null,f.v.required),WorkAddress:new f.f(null,f.v.required),InstitutionName:new f.f(null,f.v.required),JobType:new f.f(null,f.v.required),ExpectedMobilityDate:new f.f(null,f.v.required),ExpectedMobilityTime:new f.f(null,f.v.required),MobilityType:new f.f(null,f.v.required),OtherMobilityType:new f.f(null),WorkDocumentExists:new f.f(null),RecaptchaToken:new f.f(null),Code:new f.f(""),TermsApproved:new f.f(null,f.v.required)}),this.reportForm.controls.TermsApproved.valueChanges.subscribe(e=>{0==e&&this.reportForm.controls.TermsApproved.setValue(null)}),this.recaptchaForm=new f.i({RecaptchaToken:new f.f(null,f.v.required),Phone:new f.f("")}),this.reportForm.controls.MobilityType.valueChanges.subscribe(e=>{var t;let o=null===(t=this.mobilityTypesOptions)||void 0===t?void 0:t.find(e=>"OTHER"===e.Type);o&&e===o.REF?(this.showOtherMobilityType=!0,this.reportForm.controls.OtherMobilityType.setValidators(f.v.required),this.reportForm.controls.OtherMobilityType.updateValueAndValidity()):(this.showOtherMobilityType=!1,this.reportForm.controls.OtherMobilityType.setValidators(null),this.reportForm.controls.OtherMobilityType.setValue(null),this.reportForm.controls.OtherMobilityType.updateValueAndValidity())})}getLookups(){this.utilsService.getOpenLookupsService([v.a.CURFEW_MOBILITY_TYPE,v.a.JOB_TYPES],!0).subscribe(e=>{e&&(this.mobilityTypesOptions=e.body.curfew_mobility_type,this.jobTypesOptions=e.body.curfew_job_type)})}fieldInvalid(e){const t=this.reportForm.get(e);return t.touched&&t.invalid}field2Invalid(e){const t=this.recaptchaForm.get(e);return t.touched&&t.invalid}send(){let e=this.reportForm.getRawValue();if(this.byPassPhone?(delete e.Code,this.recaptchaForm.controls.RecaptchaToken.setValue(null),this.recaptchaForm.controls.RecaptchaToken.updateValueAndValidity()):delete e.RecaptchaToken,e.ExpectedMobilityDate){let t=new Date(e.ExpectedMobilityDate);e.ExpectedMobilityDate=`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}if(e.ExpectedMobilityTime){let t=new Date(e.ExpectedMobilityTime);e.ExpectedMobilityTime=`${t.getHours()}:${t.getMinutes()}`}this.addSubscription=this._permissionService.requestClearence(e).subscribe(e=>{e&&(this.sent=!0,this.reqObj=e.body,this.reportForm.disable(),this.reqObj.ValidationCode&&(this.qrCodeLink=`${window.location.href}?code=${this.reqObj.ValidationCode}`))},t=>{this.byPassPhone||this.openCodeVerificationDialog(e.MobileNumber)})}submitForm(){if(this.seconfFormButton.nativeElement.click(),this.recaptchaForm.markAllAsTouched(),this.reportForm.valid&&this.recaptchaForm.valid){const e=this.reportForm.getRawValue();if(e.MobileNumber&&!this.isValidPhoneNumber(e.MobileNumber))return void this.dialog.open(P,{width:"400px",data:{arabic:"lockdown_permission.exception.invalid_phone_number",english:"lockdown_permission.exception.invalid_phone_number_en"}});let t=new Date;if(e.ExpectedMobilityDate&&e.ExpectedMobilityDate<t.setDate(t.getDate()-1))return void this.dialog.open(P,{width:"400px",data:{arabic:"lockdown_permission.exception.invalid_date",english:"lockdown_permission.exception.invalid_date_en"}});this.recaptchaForm.controls.Phone.setValue(e.MobileNumber),this.byPassPhone?(this.reportForm.controls.RecaptchaToken.setValue(this.recaptchaForm.controls.RecaptchaToken.value),this.send()):this._permissionService.sendVerificationCode(this.recaptchaForm.getRawValue()).subscribe(t=>{this.openCodeVerificationDialog(e.MobileNumber)})}}openCodeVerificationDialog(e){this.showRecaptcha=!1,this.dialog.open(x.a,{width:"400px",disableClose:!0,data:{phone:e}}).afterClosed().subscribe(e=>{this.showRecaptcha=!0,e?(this.reportForm.controls.Code.setValue(e),this.send()):(this.recaptchaForm.controls.RecaptchaToken.setValue(null),this.recaptchaForm.controls.RecaptchaToken.updateValueAndValidity())})}isValidPhoneNumber(e){return e.startsWith("03")||e.startsWith("76")||e.startsWith("81")||e.startsWith("79")||e.startsWith("78")||e.startsWith("71")||e.startsWith("70")||e.startsWith("\u0660\u0663")||e.startsWith("\u0667\u0666")||e.startsWith("\u0668\u0661")||e.startsWith("\u0667\u0669")||e.startsWith("\u0667\u0668")||e.startsWith("\u0667\u0661")||e.startsWith("\u0667\u0660")}resolved(e){this.recaptchaForm.controls.RecaptchaToken.setValue(e)}copyLink(){const e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=this.qrCodeLink,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}redirectToScan(){this.router.navigateByUrl("curfew-scanner/scan")}ngOnDestroy(){this.addSubscription&&this.addSubscription.unsubscribe(),this.getSubscription&&this.getSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.cc(r),i.cc(a.a),i.cc(d.a),i.cc(p.a),i.cc(h.b),i.cc(a.c))},e.\u0275cmp=i.Wb({type:e,selectors:[["app-clearence"]],viewQuery:function(e,t){var o;1&e&&i.ad(V,!0),2&e&&i.Hc(o=i.rc())&&(t.seconfFormButton=o.first)},decls:7,vars:6,consts:[["class","text_title",4,"ngIf"],["class","suspected_wrapper",4,"ngIf"],["class","qr_class text_sec",4,"ngIf"],["class","report-form",3,"formGroup",4,"ngIf"],["class","suspected_wrapper_info",4,"ngIf"],[4,"ngIf"],[1,"text_title"],[1,"suspected_wrapper"],[1,"subtitle_r","subtitle_decision","black_b"],[1,"text_sec","placeholder_text","colored_text"],["class","imp_text",4,"ngIf"],[1,"imp_text"],[1,"qr_class","text_sec"],[3,"qrdata","width","errorCorrectionLevel"],[1,"owbw",3,"href"],["mat-raised-button","","type","button",1,"bg_dark_blue","sheet-elements","app-button-here","btnHoverStyle",3,"click"],[1,"report-form",3,"formGroup"],["ngForm","ngForm"],[1,"single-lined-element"],[1,"wrapping-square","input-styling",3,"ngClass"],["color","primary",1,"sheet-elements"],["formControlName","JobType"],[3,"value",4,"ngFor","ngForOf"],[3,"control","form"],[1,"two-fields-grid"],["matInput","","maxlength","500","formControlName","FirstName"],["matInput","","maxlength","500","formControlName","LastName"],["matInput","","formControlName","MobileNumber"],[1,"single-lined-element","textarea"],[1,"wrapping-square",3,"ngClass"],["maxlength","1000","matInput","","formControlName","WorkAddress"],["matInput","","maxlength","1000","formControlName","CurrentAddress"],["readonly","","matInput","","formControlName","ExpectedMobilityDate",3,"owlDateTimeTrigger","owlDateTime"],[3,"owlDateTimeTrigger"],[3,"disabled","pickerType","pickerMode","hour12Timer"],["expectedMobilityDate",""],["readonly","","matInput","","formControlName","ExpectedMobilityTime",3,"owlDateTimeTrigger","owlDateTime"],["expectedMobilityTime",""],["matInput","","maxlength","500","formControlName","InstitutionName"],["formControlName","MobilityType"],["class","single-lined-element",4,"ngIf"],[1,"checkbox-wrapper"],["formControlName","WorkDocumentExists",1,"checkbox_field"],[1,"wrapping_checkbox_square","m_t_15",3,"ngClass"],["formControlName","TermsApproved",1,"checkbox_field"],["dir","ltr"],[3,"formGroup",4,"ngIf"],["class","bg_dark_blue sheet-elements app-button-here","mat-raised-button","",3,"click",4,"ngIf"],[3,"value"],["matInput","","maxlength","500","formControlName","OtherMobilityType"],[3,"formGroup"],["ngFo","ngForm"],["class","recaptcha_wrapper",4,"ngIf"],[1,"hidden_btn"],["seconfFormButton",""],[1,"recaptcha_wrapper"],[1,"recaptcha",3,"ngClass","resolved"],["mat-raised-button","",1,"bg_dark_blue","sheet-elements","app-button-here",3,"click"],[1,"suspected_wrapper_info"],[1,"texxt"],[1,"subtitle_r"],[1,"placeholder_text"],["class","subtitle_r",4,"ngIf"]],template:function(e,t){1&e&&(i.ic(0,"div"),i.Rc(1,E,3,3,"div",0),i.Rc(2,D,13,10,"div",1),i.Rc(3,N,13,14,"div",2),i.Rc(4,Y,131,155,"form",3),i.Rc(5,J,61,62,"div",4),i.Rc(6,Q,2,1,"div",5),i.hc()),2&e&&(i.Pb(1),i.Ac("ngIf",!t.officerCode&&!t.reqObj),i.Pb(1),i.Ac("ngIf",t.reqObj),i.Pb(1),i.Ac("ngIf",t.sent&&t.qrCodeLink&&!t.officerCode),i.Pb(1),i.Ac("ngIf",!t.sent&&t.reportForm),i.Pb(1),i.Ac("ngIf",t.reqObj),i.Pb(1),i.Ac("ngIf",t.officerCode))},directives:[O.k,M.a,f.w,f.r,f.j,O.i,C.a,C.d,k.a,f.q,f.h,O.j,T.a,A.b,f.b,f.m,q.c,q.e,m.a,q.b,R.a,w.b,F.m,I.c],pipes:[s.c],styles:[".text_title[_ngcontent-%COMP%]{margin:5px 0 30px;font-size:16px;text-align:center}.texxt[_ngcontent-%COMP%]{height:30px;border-bottom:1px solid #000;margin:15px 0;font-size:16px;font-weight:700}.sheet_title[_ngcontent-%COMP%]{text-align:center}.checkbox-wrapper[_ngcontent-%COMP%]    {display:-ms-flexbox;display:flex;height:100%}.checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox{margin:auto}.checkbox-wrapper[_ngcontent-%COMP%]     span.mat-checkbox-label{white-space:pre-wrap;color:rgba(0,0,0,.5411764705882353)}.checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-indeterminate, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-indeterminate{background-color:#132f5a!important}.m_t_15[_ngcontent-%COMP%]{margin-top:15px}.wrapping_checkbox_square[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;min-height:60px}.sponsor-subtitle[_ngcontent-%COMP%]{margin-top:15px}.input-styling[_ngcontent-%COMP%]     mat-form-field{width:100%}.input-styling[_ngcontent-%COMP%]     mat-form-field textarea{resize:none!important;overflow:hidden!important}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-underline{display:none}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix{display:-ms-flexbox;display:flex}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-input-element{height:20px;width:90%}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{overflow:unset}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-select-arrow{color:#538bea}.qr_class[_ngcontent-%COMP%]{text-align:center}.subtitle_r[_ngcontent-%COMP%]{margin-bottom:10px;overflow-wrap:break-word}.subtitle_r[_ngcontent-%COMP%]   .placeholder_text[_ngcontent-%COMP%]{font-weight:700}.subtitle_decision[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;padding:10px;margin-top:20px}.subtitle_decision.black_b[_ngcontent-%COMP%]{border-color:#000}.colored_text[_ngcontent-%COMP%]{font-size:18px;margin:10px}.recaptcha_wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding-top:20px}.recaptcha_wrapper[_ngcontent-%COMP%]   .recaptcha[_ngcontent-%COMP%]{margin:auto}.app-button-here[_ngcontent-%COMP%]{height:45px;border-radius:10px;color:#fff;font-weight:700;margin-bottom:10px;margin-top:20px;outline:none}.btnHoverStyle[_ngcontent-%COMP%]:hover{background-color:#1a47a8}.owbw[_ngcontent-%COMP%]{overflow-wrap:break-word}.hidden_btn[_ngcontent-%COMP%]{display:none}.border_invalid[_ngcontent-%COMP%]{border:1px solid #f24a49}.valid_box[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;padding:20px;margin:20px 0;font-size:20px;font-weight:700}.valid_box.red_b[_ngcontent-%COMP%]{border-color:#f24a49}.valid_box.red_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#f24a49}.valid_box.green_b[_ngcontent-%COMP%]{border-color:#10743e}.valid_box.green_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#10743e}.suspected_wrapper_info[_ngcontent-%COMP%]{margin-bottom:40px}"]}),e})();function ee(e,t){if(1&e&&(i.ic(0,"div",2),i.Tc(1),i.hc()),2&e){const e=i.uc();i.Pb(1),i.Vc(" ",null==e.data?null:null==e.data.stateReason?null:e.data.stateReason.NAME," ")}}function te(e,t){if(1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e){const e=i.uc(2);i.Pb(1),i.Wc(" ",i.wc(2,2,"lockdown_permission.exception.allowed_time")," : ",null==e.data?null:e.data.otherAllowedTime," ")}}function oe(e,t){if(1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.ic(3,"div"),i.Tc(4),i.vc(5,"translate"),i.hc(),i.hc()),2&e){const e=i.uc(3);i.Pb(1),i.Vc(" ",i.wc(2,3,"lockdown_permission.exception.allowed_time")," : "),i.Pb(3),i.Wc(" ",i.wc(5,5,"lockdown_permission.exception.allowed_time_to")," ",null==e.data?null:null==e.data.reason?null:e.data.reason.TimeLimitTo," ")}}function ce(e,t){if(1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.vc(3,"translate"),i.hc()),2&e){const e=i.uc(3);i.Pb(1),i.Xc(" ",i.wc(2,3,"lockdown_permission.exception.allowed_period")," : ",null==e.data?null:null==e.data.reason?null:e.data.reason.AllowedDuration," ",i.wc(3,5,"lockdown_permission.exception.unit")," ")}}function ie(e,t){if(1&e&&(i.ic(0,"div"),i.Rc(1,oe,6,7,"div",7),i.Rc(2,ce,4,7,"div",7),i.hc()),2&e){const e=i.uc(2);i.Pb(1),i.Ac("ngIf",(null==e.data?null:e.data.reason)&&(null==e.data?null:null==e.data.reason?null:e.data.reason.TimeLimitTo)),i.Pb(1),i.Ac("ngIf",(null==e.data?null:e.data.reason)&&(null==e.data?null:null==e.data.reason?null:e.data.reason.AllowedDuration))}}function ne(e,t){1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e&&(i.Pb(1),i.Vc(" ",i.wc(2,1,"lockdown_permission.clearence.advice_popup_2")," "))}function re(e,t){if(1&e&&(i.ic(0,"div",6),i.Rc(1,te,3,4,"div",7),i.Rc(2,ie,3,2,"div",7),i.ic(3,"div",8),i.ic(4,"div"),i.Tc(5),i.vc(6,"translate"),i.hc(),i.Rc(7,ne,3,3,"div",7),i.ic(8,"div",9),i.Tc(9),i.vc(10,"translate"),i.hc(),i.hc(),i.hc()),2&e){const e=i.uc();i.Pb(1),i.Ac("ngIf",null==e.data?null:e.data.otherAllowedTime),i.Pb(1),i.Ac("ngIf",!(null!=e.data&&e.data.otherAllowedTime)),i.Pb(3),i.Vc(" ",i.wc(6,5,"lockdown_permission.exception.advice_popup_1")," "),i.Pb(2),i.Ac("ngIf","GOING_TO_AIRPORT"==(null==e.data?null:e.data.reason.Type)),i.Pb(2),i.Vc(" ",i.wc(10,7,"lockdown_permission.clearence.advice_popup_4")," ")}}const ae=function(e,t,o){return{red_c:e,green_c:t,orange_c:o}};let se=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.textToShow="",this.textToShow_en=""}ngOnInit(){var e;this.textToShow=`lockdown_permission.decision.${null===(e=this.data)||void 0===e?void 0:e.state.Type}`,this.textToShow_en=`${this.textToShow}_en`}buttonClicked(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(i.cc(h.f),i.cc(h.a))},e.\u0275cmp=i.Wb({type:e,selectors:[["app-permission-decision-dialog"]],decls:12,vars:16,consts:[[1,"texxt"],[1,"text_sec","title_text",3,"ngClass"],[1,"text_sec"],["class","text_sec",4,"ngIf"],["class","text_sec","placeholder_text","",4,"ngIf"],["mat-raised-button","",1,"app-button","cancel-btn",3,"click"],["placeholder_text","",1,"text_sec"],[4,"ngIf"],[1,"text_sec","placeholder_text","advice_text"],[1,"bold_t"]],template:function(e,t){1&e&&(i.ic(0,"div",0),i.ic(1,"div",1),i.Tc(2),i.vc(3,"translate"),i.hc(),i.ic(4,"div",2),i.Tc(5),i.vc(6,"translate"),i.hc(),i.Rc(7,ee,2,1,"div",3),i.Rc(8,re,11,9,"div",4),i.ic(9,"button",5),i.qc("click",(function(){return t.buttonClicked()})),i.Tc(10),i.vc(11,"translate"),i.hc(),i.hc()),2&e&&(i.Pb(1),i.Ac("ngClass",i.Gc(12,ae,"REJECTED"==(null==t.data?null:null==t.data.state?null:t.data.state.Type),"APPROVED"==(null==t.data?null:null==t.data.state?null:t.data.state.Type),"PENDING"==(null==t.data?null:null==t.data.state?null:t.data.state.Type))),i.Pb(1),i.Vc(" ",i.wc(3,6,t.textToShow_en)," "),i.Pb(3),i.Vc(" ",i.wc(6,8,t.textToShow)," "),i.Pb(2),i.Ac("ngIf",null==t.data?null:t.data.stateReason),i.Pb(1),i.Ac("ngIf","APPROVED"==(null==t.data?null:null==t.data.state?null:t.data.state.Type)),i.Pb(2),i.Uc(i.wc(11,10,"lockdown_permission.decision.close")))},directives:[O.i,O.k],pipes:[s.c],styles:[".texxt[_ngcontent-%COMP%]{margin-top:25px;text-align:center}.text_sec[_ngcontent-%COMP%]{margin-bottom:15px}.text_sec.red_c[_ngcontent-%COMP%]{color:#f24a49}.text_sec.green_c[_ngcontent-%COMP%]{color:#10743e}.text_sec.orange_c[_ngcontent-%COMP%]{color:#f59200}.title_text[_ngcontent-%COMP%]{font-size:18px;margin:10px}.cancel-btn[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #c7c7c7;color:#538bea;outline:none!important;width:150px}.bold_t[_ngcontent-%COMP%]{font-weight:700}.advice_text[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();var le=o("zwvI"),de=o("jaxi");const pe=["seconfFormButton"];function he(e,t){1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e&&(i.Pb(1),i.Vc(" ",i.wc(2,1,"lockdown_permission.exception.title")," "))}function be(e,t){if(1&e&&(i.ic(0,"div",6),i.Rc(1,he,3,3,"div",5),i.hc()),2&e){const e=i.uc();i.Pb(1),i.Ac("ngIf",e.filteredMobilityReasonsOptions&&e.filteredMobilityReasonsOptions.length>1)}}function me(e,t){if(1&e&&(i.ic(0,"div",10),i.Tc(1),i.hc()),2&e){const e=i.uc(2);i.Pb(1),i.Vc(" ",null==e.reqObj?null:null==e.reqObj.RequestStateReason?null:e.reqObj.RequestStateReason.NAME," ")}}function _e(e,t){if(1&e&&(i.ic(0,"div",14),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e){const e=i.uc(3);i.Pb(1),i.Wc(" ",i.wc(2,2,"lockdown_permission.exception.expected_date")," : ",e.reqObj.ExpectedMobilityDate," ")}}function ge(e,t){if(1&e&&(i.ic(0,"div",14),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e){const e=i.uc(3);i.Pb(1),i.Wc(" ",i.wc(2,2,"lockdown_permission.exception.allowed_time")," : ",e.reqObj.OtherAllowedTime," ")}}function ue(e,t){if(1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.ic(3,"div"),i.Tc(4),i.vc(5,"translate"),i.hc(),i.hc()),2&e){const e=i.uc(4);i.Pb(1),i.Vc(" ",i.wc(2,3,"lockdown_permission.exception.allowed_time")," : "),i.Pb(3),i.Wc(" ",i.wc(5,5,"lockdown_permission.exception.allowed_time_to")," ",e.reqObj.MobilityReason.TimeLimitTo," ")}}function fe(e,t){if(1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.vc(3,"translate"),i.hc()),2&e){const e=i.uc(4);i.Pb(1),i.Xc(" ",i.wc(2,3,"lockdown_permission.exception.allowed_period")," : ",e.reqObj.MobilityReason.AllowedDuration," ",i.wc(3,5,"lockdown_permission.exception.unit")," ")}}function ve(e,t){if(1&e&&(i.ic(0,"div",14),i.Rc(1,ue,6,7,"div",5),i.Rc(2,fe,4,7,"div",5),i.hc()),2&e){const e=i.uc(3);i.Pb(1),i.Ac("ngIf",e.reqObj.MobilityReason&&e.reqObj.MobilityReason.TimeLimitFrom),i.Pb(1),i.Ac("ngIf",e.reqObj.MobilityReason&&e.reqObj.MobilityReason.AllowedDuration)}}function we(e,t){1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e&&(i.Pb(1),i.Vc(" ",i.wc(2,1,"lockdown_permission.exception.advice_popup_2")," "))}function Pe(e,t){if(1&e&&(i.ic(0,"div",10),i.Rc(1,_e,3,4,"div",12),i.Rc(2,ge,3,4,"div",12),i.Rc(3,ve,3,2,"div",12),i.ic(4,"div",13),i.ic(5,"div"),i.Tc(6),i.vc(7,"translate"),i.hc(),i.Rc(8,we,3,3,"div",5),i.ic(9,"div"),i.Tc(10),i.vc(11,"translate"),i.hc(),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(1),i.Ac("ngIf",e.reqObj.ExpectedMobilityDate),i.Pb(1),i.Ac("ngIf",e.reqObj.OtherAllowedTime),i.Pb(1),i.Ac("ngIf",!e.reqObj.OtherAllowedTime),i.Pb(3),i.Vc(" ",i.wc(7,6,"lockdown_permission.exception.advice_popup_1")," "),i.Pb(2),i.Ac("ngIf","GOING_TO_AIRPORT"==e.reqObj.MobilityReason.Type),i.Pb(2),i.Vc(" ",i.wc(11,8,"lockdown_permission.exception.advice_popup_3")," ")}}function xe(e,t){if(1&e){const e=i.jc();i.ic(0,"div",16),i.qc("click",(function(){i.Kc(e);const o=t.$implicit;return i.uc(3).redirectToApproved(o.ValidationCode)})),i.Tc(1),i.vc(2,"translate"),i.hc()}2&e&&(i.Pb(1),i.Vc(" ",i.wc(2,1,"lockdown_permission.exception.here")," "))}function ye(e,t){if(1&e&&(i.ic(0,"div"),i.ic(1,"div"),i.Tc(2),i.vc(3,"translate"),i.Rc(4,xe,3,3,"div",15),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Vc(" ",i.wc(3,2,"lockdown_permission.exception.already_approved_url"),": "),i.Pb(2),i.Ac("ngForOf",e.reqObj.ApprovedRequests_LIST)}}const Oe=function(e,t,o){return{red_b:e,green_b:t,orange_b:o}};function Me(e,t){if(1&e&&(i.ic(0,"div",7),i.ic(1,"div",8),i.ic(2,"div",9),i.Tc(3),i.vc(4,"translate"),i.hc(),i.ic(5,"div",10),i.Tc(6),i.vc(7,"translate"),i.hc(),i.Rc(8,me,2,1,"div",11),i.Rc(9,Pe,12,10,"div",11),i.hc(),i.Rc(10,ye,5,4,"div",5),i.hc()),2&e){const e=i.uc();i.Pb(1),i.Ac("ngClass",i.Gc(10,Oe,"REJECTED"==e.reqObj.MobilityRequestState.Type,"APPROVED"==e.reqObj.MobilityRequestState.Type,"PENDING"==e.reqObj.MobilityRequestState.Type)),i.Pb(2),i.Vc(" ",i.wc(4,6,e.textToShow_en)," "),i.Pb(3),i.Vc(" ",i.wc(7,8,e.textToShow)," "),i.Pb(2),i.Ac("ngIf","REJECTED"==e.reqObj.MobilityRequestState.Type),i.Pb(1),i.Ac("ngIf","APPROVED"==e.reqObj.MobilityRequestState.Type),i.Pb(1),i.Ac("ngIf","REJECTED"==e.reqObj.MobilityRequestState.Type&&e.reqObj.ApprovedRequests_LIST&&e.reqObj.ApprovedRequests_LIST.length>0)}}function Ce(e,t){if(1&e){const e=i.jc();i.ic(0,"div",17),i.ic(1,"div"),i.Tc(2),i.vc(3,"translate"),i.hc(),i.dc(4,"qrcode",18),i.ic(5,"div"),i.Tc(6),i.vc(7,"translate"),i.hc(),i.ic(8,"a",19),i.Tc(9),i.hc(),i.ic(10,"button",20),i.qc("click",(function(){return i.Kc(e),i.uc().copyLink()})),i.Tc(11),i.vc(12,"translate"),i.hc(),i.hc()}if(2&e){const e=i.uc();i.Pb(2),i.Vc(" ",i.wc(3,8,"lockdown_permission.exception.qr_code")," "),i.Pb(2),i.Ac("qrdata",e.qrCodeLink)("width",256)("errorCorrectionLevel","M"),i.Pb(2),i.Vc(" ",i.wc(7,10,"lockdown_permission.exception.copy_link")," "),i.Pb(2),i.Ac("href",e.qrCodeLink,i.Mc),i.Pb(1),i.Vc(" ",e.qrCodeLink," "),i.Pb(2),i.Uc(i.wc(12,12,"lockdown_permission.exception.copy"))}}function ke(e,t){if(1&e&&(i.ic(0,"div"),i.Tc(1),i.hc()),2&e){const e=i.uc().$implicit;i.Pb(1),i.Vc(" ",e.NAME_en||""," ")}}function Te(e,t){if(1&e&&(i.ic(0,"mat-option",48),i.ic(1,"div"),i.Tc(2),i.hc(),i.Rc(3,ke,2,1,"div",5),i.hc()),2&e){const e=t.$implicit;i.Ac("value",e.REF),i.Pb(2),i.Vc(" ",e.NAME," "),i.Pb(1),i.Ac("ngIf",e.NAME_en)}}const Ae=function(e){return{invalid:e}};function qe(e,t){if(1&e&&(i.ic(0,"div",29),i.ic(1,"div",24),i.ic(2,"mat-form-field",25),i.ic(3,"mat-label"),i.Tc(4),i.vc(5,"translate"),i.vc(6,"translate"),i.hc(),i.dc(7,"input",49),i.hc(),i.hc(),i.dc(8,"app-error-display",27),i.hc()),2&e){i.uc();const e=i.Ic(1),t=i.uc();i.Pb(1),i.Ac("ngClass",i.Ec(9,Ae,t.fieldInvalid("OtherMobilityReason"))),i.Pb(3),i.Wc("",i.wc(5,5,"lockdown_permission.exception.other_mobility_reason_placeholder"),"* ",i.wc(6,7,"lockdown_permission.exception.other_mobility_reason_placeholder_en"),"* "),i.Pb(4),i.Ac("control",t.reportForm.get("OtherMobilityReason"))("form",e)}}function Re(e,t){1&e&&(i.ic(0,"div"),i.ic(1,"div"),i.Tc(2),i.vc(3,"translate"),i.hc(),i.ic(4,"div",45),i.Tc(5),i.vc(6,"translate"),i.hc(),i.hc()),2&e&&(i.Pb(2),i.Vc(" ",i.wc(3,2,"lockdown_permission.exception.reason_hint")," "),i.Pb(3),i.Vc(" ",i.wc(6,4,"lockdown_permission.exception.reason_hint_en")," "))}function Fe(e,t){if(1&e&&(i.ic(0,"div",50),i.ic(1,"div",51),i.ic(2,"mat-form-field",25),i.ic(3,"mat-label"),i.Tc(4),i.vc(5,"translate"),i.vc(6,"translate"),i.hc(),i.dc(7,"textarea",52),i.hc(),i.hc(),i.dc(8,"app-error-display",27),i.hc()),2&e){i.uc();const e=i.Ic(1),t=i.uc();i.Pb(1),i.Ac("ngClass",i.Ec(9,Ae,t.fieldInvalid("DestinationAddress"))),i.Pb(3),i.Wc("",i.wc(5,5,"lockdown_permission.exception.destination_address_placeholder"),"* ",i.wc(6,7,"lockdown_permission.exception.destination_address_placeholder_en"),"* "),i.Pb(4),i.Ac("control",t.reportForm.get("DestinationAddress"))("form",e)}}function Ie(e,t){if(1&e&&(i.ic(0,"mat-option",48),i.Tc(1),i.hc()),2&e){const e=t.$implicit;i.Ac("value",e.Display),i.Pb(1),i.Wc(" \u0645\u0646 ",e.StartTime," \u0627\u0644\u0649 ",e.EndTime||"00:00","")}}function Ve(e,t){if(1&e&&(i.ic(0,"div",29),i.ic(1,"div",24),i.ic(2,"mat-form-field",25),i.ic(3,"mat-label"),i.Tc(4),i.vc(5,"translate"),i.vc(6,"translate"),i.hc(),i.ic(7,"mat-select",56),i.Rc(8,Ie,2,3,"mat-option",38),i.hc(),i.hc(),i.hc(),i.dc(9,"app-error-display",27),i.hc()),2&e){i.uc(2);const e=i.Ic(1),t=i.uc();i.Pb(1),i.Ac("ngClass",i.Ec(10,Ae,t.fieldInvalid("BigSlot"))),i.Pb(3),i.Wc("",i.wc(5,6,"lockdown_permission.exception.expected_departure_time_date_placeholder"),"* ",i.wc(6,8,"lockdown_permission.exception.expected_departure_time_date_placeholder_en"),"* "),i.Pb(4),i.Ac("ngForOf",t.bigSlotsOptions),i.Pb(1),i.Ac("control",t.reportForm.get("BigSlot"))("form",e)}}function Ee(e,t){if(1&e&&(i.ic(0,"div"),i.ic(1,"div",29),i.ic(2,"div",24),i.dc(3,"app-single-select",53),i.vc(4,"translate"),i.hc(),i.dc(5,"app-error-display",27),i.hc(),i.ic(6,"div",54),i.ic(7,"mat-button-toggle-group",55),i.ic(8,"mat-button-toggle",48),i.Tc(9),i.vc(10,"translate"),i.hc(),i.ic(11,"mat-button-toggle",48),i.Tc(12),i.vc(13,"translate"),i.hc(),i.hc(),i.dc(14,"app-error-display",27),i.hc(),i.Rc(15,Ve,10,12,"div",39),i.hc()),2&e){i.uc();const e=i.Ic(1),t=i.uc();i.Pb(2),i.Ac("ngClass",i.Ec(18,Ae,t.fieldInvalid("RdvsLocation"))),i.Pb(1),i.Cc("placeholderLabel","",i.wc(4,12,"lockdown_permission.exception.dest_address_placeholder"),"*"),i.Ac("dropdownList",t.rdvsLocationsOptions),i.Pb(2),i.Ac("control",t.reportForm.get("RdvsLocation"))("form",e),i.Pb(3),i.Ac("value",!0),i.Pb(1),i.Vc(" ",i.wc(10,14,"lockdown_permission.exception.pickup_choice"),""),i.Pb(2),i.Ac("value",!1),i.Pb(1),i.Vc(" ",i.wc(13,16,"lockdown_permission.exception.shopping_choice")," "),i.Pb(2),i.Ac("control",t.reportForm.get("IsPickUp"))("form",e),i.Pb(1),i.Ac("ngIf",t.showSlots)}}function Le(e,t){if(1&e&&(i.ic(0,"div",29),i.ic(1,"div",24),i.ic(2,"mat-form-field",25),i.ic(3,"mat-label"),i.Tc(4),i.vc(5,"translate"),i.vc(6,"translate"),i.hc(),i.dc(7,"input",57),i.ic(8,"span",33),i.ic(9,"mat-icon"),i.Tc(10,"schedule"),i.hc(),i.hc(),i.dc(11,"owl-date-time",34,58),i.hc(),i.hc(),i.dc(13,"app-error-display",27),i.hc()),2&e){const e=i.Ic(12);i.uc();const t=i.Ic(1),o=i.uc();i.Pb(1),i.Ac("ngClass",i.Ec(16,Ae,o.fieldInvalid("ExpectedMobilityTime"))),i.Pb(3),i.Wc("",i.wc(5,12,"lockdown_permission.exception.expected_mobility_time_date_placeholder"),"* ",i.wc(6,14,"lockdown_permission.exception.expected_mobility_time_date_placeholder_en"),"* "),i.Pb(3),i.Ac("owlDateTimeTrigger",e)("owlDateTime",e),i.Pb(1),i.Ac("owlDateTimeTrigger",e),i.Pb(3),i.Ac("disabled",o.reportForm.get("ExpectedMobilityTime").disabled)("pickerType","timer")("pickerMode","popup")("hour12Timer",!0),i.Pb(2),i.Ac("control",o.reportForm.get("ExpectedMobilityTime"))("form",t)}}function De(e,t){if(1&e&&(i.ic(0,"div"),i.Tc(1),i.hc()),2&e){const e=i.uc().$implicit;i.Pb(1),i.Vc(" ",e.NAME_en||""," ")}}function Ne(e,t){if(1&e&&(i.ic(0,"mat-option",48),i.ic(1,"div"),i.Tc(2),i.hc(),i.Rc(3,De,2,1,"div",5),i.hc()),2&e){const e=t.$implicit;i.Ac("value",e.REF),i.Pb(2),i.Vc(" ",e.NAME," "),i.Pb(1),i.Ac("ngIf",e.NAME_en)}}function je(e,t){if(1&e&&(i.ic(0,"div",29),i.ic(1,"div",24),i.ic(2,"mat-form-field",25),i.ic(3,"mat-label"),i.Tc(4),i.vc(5,"translate"),i.vc(6,"translate"),i.hc(),i.dc(7,"input",59),i.hc(),i.hc(),i.dc(8,"app-error-display",27),i.hc()),2&e){i.uc();const e=i.Ic(1),t=i.uc();i.Pb(1),i.Ac("ngClass",i.Ec(9,Ae,t.fieldInvalid("OtherMobilityType"))),i.Pb(3),i.Wc("",i.wc(5,5,"lockdown_permission.exception.other_mobility_type_placeholder"),"* ",i.wc(6,7,"lockdown_permission.exception.other_mobility_type_placeholder_en"),"* "),i.Pb(4),i.Ac("control",t.reportForm.get("OtherMobilityType"))("form",e)}}const Se=function(e){return{border_invalid:e}};function We(e,t){if(1&e){const e=i.jc();i.ic(0,"div",65),i.ic(1,"re-captcha",66),i.qc("resolved",(function(t){return i.Kc(e),i.uc(3).resolved(t)})),i.hc(),i.hc()}if(2&e){const e=i.uc(3);i.Pb(1),i.Ac("ngClass",i.Ec(1,Se,e.field2Invalid("RecaptchaToken")))}}function Be(e,t){if(1&e&&(i.ic(0,"form",60,61),i.Rc(2,We,2,3,"div",62),i.dc(3,"button",63,64),i.hc()),2&e){const e=i.uc(2);i.Ac("formGroup",e.recaptchaForm),i.Pb(2),i.Ac("ngIf",e.showRecaptcha)}}function Ue(e,t){if(1&e){const e=i.jc();i.ic(0,"form",21,22),i.ic(2,"div",23),i.ic(3,"div"),i.ic(4,"div",24),i.ic(5,"mat-form-field",25),i.ic(6,"mat-label"),i.Tc(7),i.vc(8,"translate"),i.vc(9,"translate"),i.hc(),i.dc(10,"input",26),i.hc(),i.hc(),i.dc(11,"app-error-display",27),i.hc(),i.ic(12,"div"),i.ic(13,"div",24),i.ic(14,"mat-form-field",25),i.ic(15,"mat-label"),i.Tc(16),i.vc(17,"translate"),i.vc(18,"translate"),i.hc(),i.dc(19,"input",28),i.hc(),i.hc(),i.dc(20,"app-error-display",27),i.hc(),i.hc(),i.ic(21,"div",29),i.ic(22,"div",24),i.dc(23,"app-single-select",30),i.vc(24,"translate"),i.hc(),i.dc(25,"app-error-display",27),i.hc(),i.ic(26,"div",29),i.ic(27,"div",24),i.ic(28,"mat-form-field",25),i.ic(29,"mat-label"),i.Tc(30),i.vc(31,"translate"),i.vc(32,"translate"),i.hc(),i.dc(33,"input",31),i.hc(),i.hc(),i.dc(34,"app-error-display",27),i.hc(),i.ic(35,"div",29),i.ic(36,"div",24),i.ic(37,"mat-form-field",25),i.ic(38,"mat-label"),i.Tc(39),i.vc(40,"translate"),i.vc(41,"translate"),i.hc(),i.dc(42,"input",32),i.ic(43,"span",33),i.ic(44,"mat-icon"),i.Tc(45,"today"),i.hc(),i.hc(),i.dc(46,"owl-date-time",34,35),i.hc(),i.hc(),i.dc(48,"app-error-display",27),i.hc(),i.ic(49,"div",29),i.ic(50,"div",24),i.dc(51,"app-single-select",36),i.vc(52,"translate"),i.hc(),i.dc(53,"app-error-display",27),i.hc(),i.ic(54,"div",29),i.ic(55,"div",24),i.ic(56,"mat-form-field",25),i.ic(57,"mat-label"),i.Tc(58),i.vc(59,"translate"),i.vc(60,"translate"),i.hc(),i.ic(61,"mat-select",37),i.Rc(62,Te,4,3,"mat-option",38),i.hc(),i.hc(),i.hc(),i.dc(63,"app-error-display",27),i.hc(),i.Rc(64,qe,9,11,"div",39),i.Rc(65,Re,7,6,"div",5),i.Rc(66,Fe,9,11,"div",40),i.Rc(67,Ee,16,20,"div",5),i.Rc(68,Le,14,18,"div",39),i.ic(69,"div",29),i.ic(70,"div",24),i.ic(71,"mat-form-field",25),i.ic(72,"mat-label"),i.Tc(73),i.vc(74,"translate"),i.vc(75,"translate"),i.hc(),i.ic(76,"mat-select",41),i.Rc(77,Ne,4,3,"mat-option",38),i.hc(),i.hc(),i.hc(),i.dc(78,"app-error-display",27),i.hc(),i.Rc(79,je,9,11,"div",39),i.ic(80,"div",29),i.ic(81,"div",42),i.ic(82,"div",43),i.ic(83,"mat-checkbox",44),i.ic(84,"div"),i.Tc(85),i.vc(86,"translate"),i.hc(),i.ic(87,"div",45),i.Tc(88),i.vc(89,"translate"),i.hc(),i.hc(),i.hc(),i.hc(),i.dc(90,"app-error-display",27),i.hc(),i.Rc(91,Be,5,2,"form",46),i.ic(92,"button",47),i.qc("click",(function(){return i.Kc(e),i.uc().submitForm()})),i.Tc(93),i.vc(94,"translate"),i.hc(),i.hc()}if(2&e){const e=i.Ic(1),t=i.Ic(47),o=i.uc();i.Ac("formGroup",o.reportForm),i.Pb(4),i.Ac("ngClass",i.Ec(97,Ae,o.fieldInvalid("FirstName"))),i.Pb(3),i.Wc("",i.wc(8,63,"lockdown_permission.exception.first_name_placeholder"),"* ",i.wc(9,65,"lockdown_permission.exception.first_name_placeholder_en"),"* "),i.Pb(4),i.Ac("control",o.reportForm.get("FirstName"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(99,Ae,o.fieldInvalid("LastName"))),i.Pb(3),i.Wc("",i.wc(17,67,"lockdown_permission.exception.last_name_placeholder"),"* ",i.wc(18,69,"lockdown_permission.exception.last_name_placeholder_en"),"* "),i.Pb(4),i.Ac("control",o.reportForm.get("LastName"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(101,Ae,o.fieldInvalid("BirthYear"))),i.Pb(1),i.Cc("placeholderLabel","",i.wc(24,71,"lockdown_permission.exception.birth_year_placeholder"),"*"),i.Ac("dropdownList",o.birthYearOptions),i.Pb(2),i.Ac("control",o.reportForm.get("BirthYear"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(103,Ae,o.fieldInvalid("MobileNumber"))),i.Pb(3),i.Wc(" ",i.wc(31,73,"lockdown_permission.exception.mobile_number_placeholder"),"* ",i.wc(32,75,"lockdown_permission.exception.mobile_number_placeholder_en"),"* "),i.Pb(4),i.Ac("control",o.reportForm.get("MobileNumber"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(105,Ae,o.fieldInvalid("ExpectedMobilityDate"))),i.Pb(3),i.Wc("",i.wc(40,77,"lockdown_permission.exception.expected_mobility_date_placeholder"),"* ",i.wc(41,79,"lockdown_permission.exception.expected_mobility_date_placeholder_en"),"* "),i.Pb(3),i.Ac("owlDateTimeTrigger",t)("owlDateTime",t),i.Pb(1),i.Ac("owlDateTimeTrigger",t),i.Pb(3),i.Ac("disabled",o.reportForm.get("ExpectedMobilityDate").disabled)("pickerType","calendar")("pickerMode","popup")("hour12Timer",!0),i.Pb(2),i.Ac("control",o.reportForm.get("ExpectedMobilityDate"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(107,Ae,o.fieldInvalid("Municipality"))),i.Pb(1),i.Cc("placeholderLabel","",i.wc(52,81,"lockdown_permission.exception.municipality_placeholder"),"*"),i.Ac("dropdownList",o.municipalitiesOptions),i.Pb(2),i.Ac("control",o.reportForm.get("Municipality"))("form",e),i.Pb(2),i.Ac("ngClass",i.Ec(109,Ae,o.fieldInvalid("MobilityReason"))),i.Pb(3),i.Wc("",i.wc(59,83,"lockdown_permission.exception.mobility_reason_placeholder"),"* ",i.wc(60,85,"lockdown_permission.exception.mobility_reason_placeholder_en"),"* "),i.Pb(4),i.Ac("ngForOf",o.filteredMobilityReasonsOptions),i.Pb(1),i.Ac("control",o.reportForm.get("MobilityReason"))("form",e),i.Pb(1),i.Ac("ngIf",o.showOtherMobilityReason),i.Pb(1),i.Ac("ngIf",o.appointmentMode),i.Pb(1),i.Ac("ngIf",!o.appointmentMode),i.Pb(1),i.Ac("ngIf",o.appointmentMode),i.Pb(1),i.Ac("ngIf",!o.showSlots),i.Pb(2),i.Ac("ngClass",i.Ec(111,Ae,o.fieldInvalid("MobilityType"))),i.Pb(3),i.Wc("",i.wc(74,87,"lockdown_permission.exception.mobility_type_placeholder"),"* ",i.wc(75,89,"lockdown_permission.exception.mobility_type_placeholder_en"),"* "),i.Pb(4),i.Ac("ngForOf",o.mobilityTypesOptions),i.Pb(1),i.Ac("control",o.reportForm.get("MobilityType"))("form",e),i.Pb(1),i.Ac("ngIf",o.showOtherMobilityType),i.Pb(2),i.Ac("ngClass",i.Ec(113,Ae,o.fieldInvalid("TermsApproved"))),i.Pb(4),i.Vc(" ",i.wc(86,91,"lockdown_permission.exception.approve_placeholder")," "),i.Pb(3),i.Vc(" ",i.wc(89,93,"lockdown_permission.exception.approve_en_placeholder")," "),i.Pb(2),i.Ac("control",o.reportForm.get("TermsApproved"))("form",e),i.Pb(1),i.Ac("ngIf",!o.sent),i.Pb(2),i.Uc(i.wc(94,95,"lockdown_permission.exception.send"))}}function $e(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.ic(5,"div"),i.Tc(6),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Wc(" ",i.wc(3,4,"lockdown_permission.exception.full_name_placeholder")," ",i.wc(4,6,"lockdown_permission.exception.full_name_placeholder_en")," : "),i.Pb(4),i.Wc(" ",e.reqObj.FirstName," ",e.reqObj.LastName," ")}}function ze(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.hc(),i.ic(4,"div"),i.Tc(5),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Vc(" ",i.wc(3,2,"lockdown_permission.exception.birth_year_placeholder")," : "),i.Pb(3),i.Vc(" ",e.reqObj.BirthYear," ")}}function Ge(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.ic(5,"div"),i.Tc(6),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Wc(" ",i.wc(3,3,"lockdown_permission.exception.mobile_number_placeholder")," ",i.wc(4,5,"lockdown_permission.exception.mobile_number_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.MobileNumber," ")}}function He(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.ic(5,"div"),i.Tc(6),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Wc(" ",i.wc(3,3,"lockdown_permission.exception.destination_address_placeholder")," ",i.wc(4,5,"lockdown_permission.exception.destination_address_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.DestinationAddress," ")}}function Ye(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.ic(5,"div"),i.Tc(6),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Wc(" ",i.wc(3,4,"lockdown_permission.exception.expected_mobility_time_and_date_placeholder")," ",i.wc(4,6,"lockdown_permission.exception.expected_mobility_time_and_date_placeholder_en")," : "),i.Pb(4),i.Wc(" ",e.reqObj.ExpectedMobilityDate," ",e.reqObj.ExpectedMobilityTime," ")}}function Ke(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.ic(5,"div"),i.Tc(6),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Wc(" ",i.wc(3,3,"lockdown_permission.exception.kadaa_placeholder")," ",i.wc(4,5,"lockdown_permission.exception.kadaa_placeholder_en")," : "),i.Pb(4),i.Vc(" ",null==e.reqObj.Kadaa?null:e.reqObj.Kadaa.NAME," ")}}function Je(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.hc(),i.ic(4,"div"),i.Tc(5),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Vc(" ",i.wc(3,2,"lockdown_permission.exception.municipality_placeholder")," : "),i.Pb(3),i.Vc(" ",null==e.reqObj.Municipality?null:e.reqObj.Municipality.NAME," ")}}function Xe(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.ic(5,"div"),i.Tc(6),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Wc(" ",i.wc(3,3,"lockdown_permission.exception.mobility_reason_placeholder")," ",i.wc(4,5,"lockdown_permission.exception.mobility_reason_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.MobilityReason&&"OTHER"!=e.reqObj.MobilityReason.Type?e.reqObj.MobilityReason.NAME:e.reqObj.OtherMobilityReason," ")}}function Qe(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.ic(5,"div"),i.Tc(6),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Wc(" ",i.wc(3,3,"lockdown_permission.exception.destination_address_placeholder")," ",i.wc(4,5,"lockdown_permission.exception.destination_address_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.RdvsLocation.NAME," ")}}function Ze(e,t){1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e&&(i.Pb(1),i.Vc(" ",i.wc(2,1,"lockdown_permission.exception.pickup_choice")," "))}function et(e,t){1&e&&(i.ic(0,"div"),i.Tc(1),i.vc(2,"translate"),i.hc()),2&e&&(i.Pb(1),i.Vc(" ",i.wc(2,1,"lockdown_permission.exception.shopping_choice")," "))}function tt(e,t){if(1&e&&(i.ic(0,"div",70),i.Rc(1,Ze,3,3,"div",5),i.Rc(2,et,3,3,"div",5),i.hc()),2&e){const e=i.uc(2);i.Pb(1),i.Ac("ngIf",1==e.reqObj.IsPickUp),i.Pb(1),i.Ac("ngIf",0==e.reqObj.IsPickUp)}}function ot(e,t){if(1&e&&(i.ic(0,"div",70),i.ic(1,"div",71),i.Tc(2),i.vc(3,"translate"),i.vc(4,"translate"),i.hc(),i.ic(5,"div"),i.Tc(6),i.hc(),i.hc()),2&e){const e=i.uc(2);i.Pb(2),i.Wc(" ",i.wc(3,3,"lockdown_permission.exception.mobility_type_placeholder")," ",i.wc(4,5,"lockdown_permission.exception.mobility_type_placeholder_en")," : "),i.Pb(4),i.Vc(" ",e.reqObj.MobilityType&&"OTHER"!=e.reqObj.MobilityType.Type?e.reqObj.MobilityType.NAME:e.reqObj.OtherMobilityType," ")}}function ct(e,t){if(1&e&&(i.ic(0,"div",67),i.ic(1,"div",68),i.Tc(2),i.vc(3,"translate"),i.hc(),i.Rc(4,$e,7,8,"div",69),i.Rc(5,ze,6,4,"div",69),i.Rc(6,Ge,7,7,"div",69),i.Rc(7,He,7,7,"div",69),i.Rc(8,Ye,7,8,"div",69),i.Rc(9,Ke,7,7,"div",69),i.Rc(10,Je,6,4,"div",69),i.Rc(11,Xe,7,7,"div",69),i.Rc(12,Qe,7,7,"div",69),i.Rc(13,tt,3,2,"div",69),i.Rc(14,ot,7,7,"div",69),i.hc()),2&e){const e=i.uc();i.Pb(2),i.Vc(" ",i.wc(3,12,"lockdown_permission.exception.info")," "),i.Pb(2),i.Ac("ngIf",e.reqObj.FirstName),i.Pb(1),i.Ac("ngIf",e.reqObj.BirthYear),i.Pb(1),i.Ac("ngIf",e.reqObj.MobileNumber),i.Pb(1),i.Ac("ngIf",e.reqObj.DestinationAddress),i.Pb(1),i.Ac("ngIf",e.reqObj.ExpectedMobilityDate),i.Pb(1),i.Ac("ngIf",e.reqObj.Kadaa),i.Pb(1),i.Ac("ngIf",e.reqObj.Municipality),i.Pb(1),i.Ac("ngIf",e.reqObj.MobilityReason||e.reqObj.OtherMobilityReason),i.Pb(1),i.Ac("ngIf",e.reqObj.RdvsLocation),i.Pb(1),i.Ac("ngIf",null!=e.reqObj.IsPickUp),i.Pb(1),i.Ac("ngIf",e.reqObj.MobilityType||e.reqObj.OtherMobilityType)}}function it(e,t){if(1&e){const e=i.jc();i.ic(0,"div"),i.ic(1,"button",47),i.qc("click",(function(){return i.Kc(e),i.uc().redirectToScan()})),i.Tc(2),i.vc(3,"translate"),i.hc(),i.hc()}2&e&&(i.Pb(2),i.Uc(i.wc(3,1,"lockdown_permission.exception.redirect_to_scan")))}const nt=[{path:"",component:l,children:[{path:"",component:u},{path:"exception",component:(()=>{class e{constructor(e,t,o,c,i,n){this._permissionService=e,this.route=t,this._snackBar=o,this.utilsService=c,this.dialog=i,this.router=n,this.showRecaptcha=!0,this.showOtherMobilityReason=!1,this.showOtherMobilityType=!1,this.qrCodeLink="",this.sent=!1,this.appointmentMode=!1,this.showSlots=!1}ngOnInit(){this.byPassPhone=this._permissionService.shouldByPassPhone(),this.getData()}getData(){this.route.queryParams.subscribe(e=>{e&&e.code?e.officerCode?(this.officerCode=e.officerCode,this.getDetails(e.code,e.officerCode)):this.getDetailsWithPhoneCheck(e.code):(this.getLookups(),this.initForm(),this.router.navigate(["."],{relativeTo:this.route,queryParams:{}}))})}getDetailsWithPhoneCheck(e){this.dialog.open(y.a,{width:"400px",disableClose:!0}).afterClosed().subscribe(t=>{t?this.getSubscription=this._permissionService.getRequestException(e,t).subscribe(t=>{var o;t&&t.body&&t.body.curfew_mobility_requests&&t.body.curfew_mobility_requests.length>0?(this.reqObj=t.body.curfew_mobility_requests[0],this.sent=!0,this.qrCodeLink=window.location.href,this.textToShow=`lockdown_permission.decision.${null===(o=this.reqObj)||void 0===o?void 0:o.MobilityRequestState.Type}`,this.textToShow_en=`${this.textToShow}_en`):this.getDetailsWithPhoneCheck(e)},t=>{this.getDetailsWithPhoneCheck(e)}):this.router.navigate(["."],{relativeTo:this.route,queryParams:{}})})}getDetails(e,t){this.getSubscription=this._permissionService.getRequestException(e,null,t).subscribe(e=>{var t;e&&e.body&&e.body.curfew_mobility_requests&&e.body.curfew_mobility_requests.length>0?(this.reqObj=e.body.curfew_mobility_requests[0],this.sent=!0,this.qrCodeLink=window.location.href,this.textToShow=`lockdown_permission.decision.${null===(t=this.reqObj)||void 0===t?void 0:t.MobilityRequestState.Type}`,this.textToShow_en=`${this.textToShow}_en`):this.router.navigate(["."],{relativeTo:this.route,queryParams:{}})},e=>{})}initForm(){this.reportForm=new f.i({FirstName:new f.f(null,f.v.required),LastName:new f.f(null,f.v.required),BirthYear:new f.f(null,f.v.required),MobileNumber:new f.f(null,[f.v.required,f.v.pattern(/^([\u0660-\u0669]|[0-9]){8}$/)]),DestinationAddress:new f.f(null,f.v.required),Municipality:new f.f(null,f.v.required),ExpectedMobilityDate:new f.f(new Date,f.v.required),ExpectedMobilityTime:new f.f(null,f.v.required),MobilityReason:new f.f(null,f.v.required),OtherMobilityReason:new f.f(null),MobilityType:new f.f(null,f.v.required),RdvsLocation:new f.f(null),BigSlot:new f.f(null),IsPickUp:new f.f(null),OtherMobilityType:new f.f(null),RecaptchaToken:new f.f(null),Code:new f.f(""),TermsApproved:new f.f(null,f.v.required)}),this.reportForm.controls.ExpectedMobilityDate.disable(),this.reportForm.controls.TermsApproved.valueChanges.subscribe(e=>{0==e&&this.reportForm.controls.TermsApproved.setValue(null)}),this.recaptchaForm=new f.i({RecaptchaToken:new f.f(null,f.v.required),Phone:new f.f("")}),this.reportForm.controls.ExpectedMobilityDate.valueChanges.subscribe(e=>{e.setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)?this.filteredMobilityReasonsOptions=this.mobilityReasonsOptions:(this.filteredMobilityReasonsOptions=this.mobilityReasonsOptions.filter(e=>!e.RdvsRequired),this.filteredMobilityReasonsOptions.indexOf(this.reportForm.controls.MobilityReason.value)<0&&this.reportForm.controls.MobilityReason.setValue(null))}),this.reportForm.controls.MobilityReason.valueChanges.subscribe(e=>{var t,o;let c=null===(t=this.mobilityReasonsOptions)||void 0===t?void 0:t.find(e=>"OTHER"===e.Type),i=null===(o=this.mobilityReasonsOptions)||void 0===o?void 0:o.filter(e=>e.RdvsRequired);c&&e===c.REF?(this.appointmentMode=!1,this.showOtherMobilityReason=!0,this.showSlots=!1,this.reportForm.controls.OtherMobilityReason.setValidators(f.v.required),this.reportForm.controls.DestinationAddress.setValidators(f.v.required),this.reportForm.controls.ExpectedMobilityTime.setValidators(f.v.required),this.reportForm.controls.BigSlot.setValidators(null),this.reportForm.controls.BigSlot.setValue(null),this.reportForm.controls.RdvsLocation.setValidators(null),this.reportForm.controls.RdvsLocation.setValue(null),this.reportForm.controls.IsPickUp.setValidators(null),this.reportForm.controls.IsPickUp.setValue(null)):i&&i.map(e=>e.REF).includes(e)?(this.appointmentMode=!0,this.rdvsLocationsOptions||this.getPlaces(),this.showOtherMobilityReason=!1,this.reportForm.controls.OtherMobilityReason.setValidators(null),this.reportForm.controls.OtherMobilityReason.setValue(null),this.reportForm.controls.DestinationAddress.setValidators(null),this.reportForm.controls.DestinationAddress.setValue(null),this.reportForm.controls.RdvsLocation.setValidators(f.v.required),this.reportForm.controls.IsPickUp.setValidators(f.v.required)):(this.appointmentMode=!1,this.showOtherMobilityReason=!1,this.showSlots=!1,this.reportForm.controls.OtherMobilityReason.setValidators(null),this.reportForm.controls.OtherMobilityReason.setValue(null),this.reportForm.controls.DestinationAddress.setValidators(f.v.required),this.reportForm.controls.ExpectedMobilityTime.setValidators(f.v.required),this.reportForm.controls.BigSlot.setValidators(null),this.reportForm.controls.BigSlot.setValue(null),this.reportForm.controls.RdvsLocation.setValidators(null),this.reportForm.controls.RdvsLocation.setValue(null),this.reportForm.controls.IsPickUp.setValidators(null),this.reportForm.controls.IsPickUp.setValue(null)),this.reportForm.controls.OtherMobilityReason.updateValueAndValidity(),this.reportForm.controls.DestinationAddress.updateValueAndValidity(),this.reportForm.controls.ExpectedMobilityTime.updateValueAndValidity(),this.reportForm.controls.BigSlot.updateValueAndValidity(),this.reportForm.controls.RdvsLocation.updateValueAndValidity(),this.reportForm.controls.IsPickUp.updateValueAndValidity()}),this.reportForm.controls.IsPickUp.valueChanges.subscribe(e=>{0==e?(this.showSlots=!0,this.reportForm.controls.ExpectedMobilityTime.setValidators(null),this.reportForm.controls.ExpectedMobilityTime.setValue(null),this.reportForm.controls.BigSlot.setValidators(f.v.required)):(this.showSlots=!1,this.reportForm.controls.ExpectedMobilityTime.setValidators(f.v.required),this.reportForm.controls.BigSlot.setValidators(null),this.reportForm.controls.BigSlot.setValue(null)),this.reportForm.controls.ExpectedMobilityTime.updateValueAndValidity(),this.reportForm.controls.BigSlot.updateValueAndValidity()}),this.reportForm.controls.MobilityType.valueChanges.subscribe(e=>{var t;let o=null===(t=this.mobilityTypesOptions)||void 0===t?void 0:t.find(e=>"OTHER"===e.Type);o&&e===o.REF?(this.showOtherMobilityType=!0,this.reportForm.controls.OtherMobilityType.setValidators(f.v.required),this.reportForm.controls.OtherMobilityType.updateValueAndValidity()):(this.showOtherMobilityType=!1,this.reportForm.controls.OtherMobilityType.setValidators(null),this.reportForm.controls.OtherMobilityType.setValue(null),this.reportForm.controls.OtherMobilityType.updateValueAndValidity())}),this.reportForm.controls.RdvsLocation.valueChanges.subscribe(e=>{var t;let o=null===(t=this.rdvsLocationsOptions)||void 0===t?void 0:t.find(t=>t.REF===e);this.bigSlotsOptions=e&&o?o.SlotList:[]})}getLookups(){this.utilsService.getOpenLookupsService([v.a.CURFEW_MOBILITY_REASON,v.a.CURFEW_MOBILITY_TYPE,v.a.MUNICIPALITIES_NAME],!0).subscribe(e=>{if(e){this.mobilityTypesOptions=e.body.curfew_mobility_type,this.mobilityReasonsOptions=e.body.curfew_mobility_reason,this.filteredMobilityReasonsOptions=this.mobilityReasonsOptions,this.municipalitiesOptions=e.body.municipalities_name;const o=this.municipalitiesOptions.findIndex(e=>"\u063a\u064a\u0631\u0647"==e.NAME);o>=0&&this.municipalitiesOptions.splice(o,1);const c=(new Date).getFullYear();this.birthYearOptions=[];for(var t=0;t<114;t++)this.birthYearOptions.push({NAME:`${c-t}`,REF:c-t})}})}getPlaces(){this.utilsService.getOpenLookupsService([v.a.RDVS_LOCATION],!0).subscribe(e=>{e&&(this.rdvsLocationsOptions=e.body.rdvs_location)})}fieldInvalid(e){const t=this.reportForm.get(e);return t.touched&&t.invalid}send(){let e=this.reportForm.getRawValue();if(this.byPassPhone?(delete e.Code,this.recaptchaForm.controls.RecaptchaToken.setValue(null),this.recaptchaForm.controls.RecaptchaToken.updateValueAndValidity()):delete e.RecaptchaToken,e.ExpectedMobilityDate){let t=new Date(e.ExpectedMobilityDate);e.ExpectedMobilityDate=`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}if(e.ExpectedMobilityTime){let t=new Date(e.ExpectedMobilityTime);e.ExpectedMobilityTime=`${t.getHours()}:${t.getMinutes()}`}this.addSubscription=this._permissionService.requestException(e).subscribe(e=>{var t,o,c,i;e&&(this.sent=!0,this.reqObj=e.body,this.reportForm.disable(),this.dialog.open(se,{width:"400px",data:{state:null===(t=e.body)||void 0===t?void 0:t.MobilityRequestState,stateReason:null===(o=e.body)||void 0===o?void 0:o.RequestStateReason,reason:null===(c=e.body)||void 0===c?void 0:c.MobilityReason,otherAllowedTime:null===(i=e.body)||void 0===i?void 0:i.OtherAllowedTime}}).afterClosed().subscribe(e=>{var t;this.reqObj.ValidationCode&&(this.qrCodeLink=`${window.location.href}?code=${this.reqObj.ValidationCode}`,this.textToShow=`lockdown_permission.decision.${null===(t=this.reqObj)||void 0===t?void 0:t.MobilityRequestState.Type}`,this.textToShow_en=`${this.textToShow}_en`)}))},t=>{this.byPassPhone||this.openCodeVerificationDialog(e.MobileNumber)})}submitForm(){if(this.seconfFormButton.nativeElement.click(),this.recaptchaForm.markAllAsTouched(),this.reportForm.valid&&this.recaptchaForm.valid){const e=this.reportForm.getRawValue();if(e.MobileNumber&&!this.isValidPhoneNumber(e.MobileNumber))return void this.dialog.open(P,{width:"400px",data:{arabic:"lockdown_permission.exception.invalid_phone_number",english:"lockdown_permission.exception.invalid_phone_number_en"}});let t=new Date;if(e.ExpectedMobilityDate&&e.ExpectedMobilityDate<t.setDate(t.getDate()-1))return void this.dialog.open(P,{width:"400px",data:{arabic:"lockdown_permission.exception.invalid_date",english:"lockdown_permission.exception.invalid_date_en"}});this.recaptchaForm.controls.Phone.setValue(e.MobileNumber),this.byPassPhone?(this.reportForm.controls.RecaptchaToken.setValue(this.recaptchaForm.controls.RecaptchaToken.value),this.send()):this._permissionService.sendVerificationCode(this.recaptchaForm.getRawValue()).subscribe(t=>{this.openCodeVerificationDialog(e.MobileNumber)})}}openCodeVerificationDialog(e){this.showRecaptcha=!1,this.dialog.open(x.a,{width:"400px",disableClose:!0,data:{phone:e}}).afterClosed().subscribe(e=>{this.showRecaptcha=!0,e?(this.reportForm.controls.Code.setValue(e),this.send()):(this.recaptchaForm.controls.RecaptchaToken.setValue(null),this.recaptchaForm.controls.RecaptchaToken.updateValueAndValidity())})}redirectToApproved(e){this.router.navigate(["."],{relativeTo:this.route,queryParams:{code:e}})}resolved(e){this.recaptchaForm.controls.RecaptchaToken.setValue(e)}copyLink(){const e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=this.qrCodeLink,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}isValidPhoneNumber(e){return e.startsWith("03")||e.startsWith("76")||e.startsWith("81")||e.startsWith("79")||e.startsWith("78")||e.startsWith("71")||e.startsWith("70")||e.startsWith("\u0660\u0663")||e.startsWith("\u0667\u0666")||e.startsWith("\u0668\u0661")||e.startsWith("\u0667\u0669")||e.startsWith("\u0667\u0668")||e.startsWith("\u0667\u0661")||e.startsWith("\u0667\u0660")}field2Invalid(e){const t=this.recaptchaForm.get(e);return t.touched&&t.invalid}redirectToScan(){this.router.navigateByUrl("curfew-scanner/scan")}ngOnDestroy(){this.addSubscription&&this.addSubscription.unsubscribe(),this.getSubscription&&this.getSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.cc(r),i.cc(a.a),i.cc(d.a),i.cc(p.a),i.cc(h.b),i.cc(a.c))},e.\u0275cmp=i.Wb({type:e,selectors:[["app-exception"]],viewQuery:function(e,t){var o;1&e&&i.ad(pe,!0),2&e&&i.Hc(o=i.rc())&&(t.seconfFormButton=o.first)},decls:7,vars:6,consts:[["class","text_title",4,"ngIf"],["class","suspected_wrapper",4,"ngIf"],["class","qr_class text_sec",4,"ngIf"],["class","report-form",3,"formGroup",4,"ngIf"],["class","suspected_wrapper_info",4,"ngIf"],[4,"ngIf"],[1,"text_title"],[1,"suspected_wrapper"],[1,"subtitle_r","subtitle_decision",3,"ngClass"],[1,"text_sec","placeholder_text","colored_text"],[1,"text_sec","placeholder_text"],["class","text_sec placeholder_text",4,"ngIf"],["class","imp_text",4,"ngIf"],[1,"text_sec","placeholder_text","advice_text"],[1,"imp_text"],["class","prev_link pointer",3,"click",4,"ngFor","ngForOf"],[1,"prev_link","pointer",3,"click"],[1,"qr_class","text_sec"],[3,"qrdata","width","errorCorrectionLevel"],[1,"owbw",3,"href"],["mat-raised-button","","type","button",1,"bg_dark_blue","sheet-elements","app-button-here","btnHoverStyle",3,"click"],[1,"report-form",3,"formGroup"],["ngForm","ngForm"],[1,"two-fields-grid"],[1,"wrapping-square","input-styling",3,"ngClass"],["color","primary",1,"sheet-elements"],["matInput","","maxlength","500","formControlName","FirstName"],[3,"control","form"],["matInput","","maxlength","500","formControlName","LastName"],[1,"single-lined-element"],["formControlName","BirthYear",3,"placeholderLabel","dropdownList"],["matInput","","formControlName","MobileNumber"],["readonly","","matInput","","formControlName","ExpectedMobilityDate",3,"owlDateTimeTrigger","owlDateTime"],[3,"owlDateTimeTrigger"],[3,"disabled","pickerType","pickerMode","hour12Timer"],["expectedMobilityDate",""],["formControlName","Municipality",3,"placeholderLabel","dropdownList"],["formControlName","MobilityReason"],[3,"value",4,"ngFor","ngForOf"],["class","single-lined-element",4,"ngIf"],["class","single-lined-element textarea",4,"ngIf"],["formControlName","MobilityType"],[1,"wrapping_checkbox_square","m_t_15",3,"ngClass"],[1,"checkbox-wrapper"],["formControlName","TermsApproved",1,"checkbox_field"],["dir","ltr"],[3,"formGroup",4,"ngIf"],["mat-raised-button","",1,"bg_dark_blue","sheet-elements","app-button-here",3,"click"],[3,"value"],["matInput","","maxlength","500","formControlName","OtherMobilityReason"],[1,"single-lined-element","textarea"],[1,"wrapping-square",3,"ngClass"],["matInput","","maxlength","1000","formControlName","DestinationAddress"],["formControlName","RdvsLocation",3,"placeholderLabel","dropdownList"],[1,"button-toggle","input-styling"],["formControlName","IsPickUp",1,"button-toggle-opt"],["formControlName","BigSlot"],["readonly","","matInput","","formControlName","ExpectedMobilityTime",3,"owlDateTimeTrigger","owlDateTime"],["expectedMobilityTime",""],["matInput","","maxlength","500","formControlName","OtherMobilityType"],[3,"formGroup"],["ngFo","ngForm"],["class","recaptcha_wrapper",4,"ngIf"],[1,"hidden_btn"],["seconfFormButton",""],[1,"recaptcha_wrapper"],[1,"recaptcha",3,"ngClass","resolved"],[1,"suspected_wrapper_info"],[1,"texxt"],["class","subtitle_r",4,"ngIf"],[1,"subtitle_r"],[1,"placeholder_text"]],template:function(e,t){1&e&&(i.ic(0,"div"),i.Rc(1,be,2,1,"div",0),i.Rc(2,Me,11,14,"div",1),i.Rc(3,Ce,13,14,"div",2),i.Rc(4,Ue,95,115,"form",3),i.Rc(5,ct,15,14,"div",4),i.Rc(6,it,4,3,"div",5),i.hc()),2&e&&(i.Pb(1),i.Ac("ngIf",!t.officerCode&&!t.reqObj),i.Pb(1),i.Ac("ngIf",t.reqObj),i.Pb(1),i.Ac("ngIf",t.sent&&t.qrCodeLink&&!t.officerCode),i.Pb(1),i.Ac("ngIf",!t.sent&&t.reportForm),i.Pb(1),i.Ac("ngIf",t.reqObj),i.Pb(1),i.Ac("ngIf",t.officerCode))},directives:[O.k,O.i,O.j,M.a,f.w,f.r,f.j,C.a,C.d,A.b,f.b,f.m,f.q,f.h,T.a,le.a,q.c,q.e,m.a,q.b,k.a,R.a,w.b,F.m,de.b,de.a,I.c],pipes:[s.c],styles:[".text_title[_ngcontent-%COMP%]{margin:5px 0 30px;font-size:16px;text-align:center}.texxt[_ngcontent-%COMP%]{height:30px;border-bottom:1px solid #000;margin:15px 0;font-size:16px;font-weight:700}.sheet_title[_ngcontent-%COMP%]{text-align:center}.checkbox-wrapper[_ngcontent-%COMP%]     span.mat-checkbox-label{white-space:pre-wrap}.checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-accent .mat-pseudo-checkbox-indeterminate, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-checked, .checkbox-wrapper[_ngcontent-%COMP%]     .mat-pseudo-checkbox-indeterminate{background-color:#132f5a!important}.sponsor-subtitle[_ngcontent-%COMP%]{margin-top:15px}.input-styling[_ngcontent-%COMP%]     mat-form-field{width:100%}.input-styling[_ngcontent-%COMP%]     mat-form-field textarea{resize:none!important;overflow:hidden!important}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-underline{display:none}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix{display:-ms-flexbox;display:flex}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-input-element{height:20px;width:90%}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{overflow:unset}.input-styling[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper .mat-form-field-infix .mat-select-arrow{color:#538bea}.m_t_15[_ngcontent-%COMP%]{margin-top:15px}.wrapping_checkbox_square[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;min-height:60px}.qr_class[_ngcontent-%COMP%]{text-align:center}.subtitle_r[_ngcontent-%COMP%]{overflow-wrap:break-word;margin-bottom:10px}.subtitle_r[_ngcontent-%COMP%]   .placeholder_text[_ngcontent-%COMP%]{font-weight:700}.advice_text[_ngcontent-%COMP%]{margin-top:10px}.subtitle_decision[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;padding:10px 10px 20px;margin-top:20px}.subtitle_decision.red_b[_ngcontent-%COMP%]{border-color:#f24a49}.subtitle_decision.red_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#f24a49}.subtitle_decision.green_b[_ngcontent-%COMP%]{border-color:#10743e}.subtitle_decision.green_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#10743e}.subtitle_decision.orange_b[_ngcontent-%COMP%]{border-color:#f59200}.subtitle_decision.orange_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#f59200}.colored_text[_ngcontent-%COMP%]{font-size:18px;margin:10px}.colored_text[_ngcontent-%COMP%]   .small_text[_ngcontent-%COMP%]{margin-top:15px;font-size:16px;color:initial}.recaptcha_wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding-top:20px}.recaptcha_wrapper[_ngcontent-%COMP%]   .recaptcha[_ngcontent-%COMP%]{margin:auto}.app-button-here[_ngcontent-%COMP%]{height:45px;border-radius:10px;color:#fff;font-weight:700;margin-bottom:10px;margin-top:20px;outline:none}.btnHoverStyle[_ngcontent-%COMP%]:hover{background-color:#1a47a8}.owbw[_ngcontent-%COMP%]{overflow-wrap:break-word}.hidden_btn[_ngcontent-%COMP%]{display:none}.border_invalid[_ngcontent-%COMP%]{border:1px solid #f24a49}.prev_link[_ngcontent-%COMP%]{text-decoration:underline;color:#00f;font-weight:700}.valid_box[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;padding:20px;margin:20px 0;font-size:20px;font-weight:700}.valid_box.red_b[_ngcontent-%COMP%]{border-color:#f24a49}.valid_box.red_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#f24a49}.valid_box.green_b[_ngcontent-%COMP%]{border-color:#10743e}.valid_box.green_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#10743e}.valid_box.orange_b[_ngcontent-%COMP%]{border-color:#f59200}.valid_box.orange_b[_ngcontent-%COMP%]   .colored_text[_ngcontent-%COMP%]{color:#f59200}.imp_text[_ngcontent-%COMP%]{color:#f24a49}.button-toggle[_ngcontent-%COMP%]{margin:20px 0}.button-toggle[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{border:none;width:100%}.button-toggle[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{width:50%;border-radius:3px}.button-toggle[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-left:10px}.button-toggle[_ngcontent-%COMP%]   .button-toggle-opt[_ngcontent-%COMP%]{margin-top:10px}.button-toggle[_ngcontent-%COMP%]   .button-toggle-opt[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child, .button-toggle[_ngcontent-%COMP%]   .button-toggle-opt[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){color:grey;border:1px solid grey}.button-toggle[_ngcontent-%COMP%]   .button-toggle-opt[_ngcontent-%COMP%]     .mat-button-toggle-button{height:100%}.button-toggle[_ngcontent-%COMP%]   .button-toggle-opt[_ngcontent-%COMP%]     .mat-button-toggle-button:active, .button-toggle[_ngcontent-%COMP%]   .button-toggle-opt[_ngcontent-%COMP%]     .mat-button-toggle-button:focus{border:2px solid #132f5a;outline:none!important}.button-toggle[_ngcontent-%COMP%]   .button-toggle-opt[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:20px;padding:12px;white-space:pre-wrap}  .mat-input-element:disabled{opacity:1}.suspected_wrapper_info[_ngcontent-%COMP%]{margin-bottom:40px}"]}),e})()},{path:"clearance",component:Z}]}];let rt=(()=>{class e{}return e.\u0275mod=i.ac({type:e}),e.\u0275inj=i.Zb({factory:function(t){return new(t||e)},imports:[[a.d.forChild(nt)],a.d]}),e})();var at=o("PCNd");o.d(t,"PermissionModule",(function(){return st}));let st=(()=>{class e{}return e.\u0275mod=i.ac({type:e}),e.\u0275inj=i.Zb({factory:function(t){return new(t||e)},providers:[r,{provide:I.b,useValue:{siteKey:"6Ld3PegUAAAAAAFEGzLwzuc1wBorLHU6mXMkIgO4"}},{provide:I.a,useValue:"ar"}],imports:[[rt,at.a,I.d]]}),e})()}}]);